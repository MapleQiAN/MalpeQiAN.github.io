<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="Serendy">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    
    <!--- Seo Part-->
    
    <link rel="canonical" href="http://example.com/2023/02/27/操作系统/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="操作系统课的笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="操作系统">
<meta property="og:url" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/index.html">
<meta property="og:site_name" content="SerendyLin Blog">
<meta property="og:description" content="操作系统课的笔记">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230228203352379.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230228204454242.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230228204734947.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230228205617028.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230228205904622.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230228205912228.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230228210211006.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230308144022824.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230308144842725.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230308145011020.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230308145609059.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230308145710889.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230308150351364.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230308150452088.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230308150521250.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426131204628.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426131633587.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426131729299.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426131751390.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426131903355.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426132012606.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426204329895.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426204335845.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426204751472.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426205046191.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426205343398.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426205718047.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426210103487.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426211608725.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426211625154.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426211720425.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426212123772.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426214031286.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502133543747.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502133802280.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502133849478.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502135000958.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502135045547.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502135259129.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502135830284.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502140103660.png">
<meta property="og:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502140109258.png">
<meta property="article:published_time" content="2023-02-27T11:03:29.000Z">
<meta property="article:modified_time" content="2023-07-12T03:28:07.074Z">
<meta property="article:author" content="Serendy">
<meta property="article:tag" content="Note">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230228203352379.png">
    
    
        <!-- Google tag (gtag.js) -->
        <script src="https://www.googletagmanager.com/gtag/js?id=G-XF0XWGF3JV"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-XF0XWGF3JV');
        </script>
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20230901165816.jpg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20230901165816.jpg">
    <meta name="theme-color" content="#9eb45f">
    <link rel="shortcut icon" href="/images/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20230901165816.jpg">
    <!--- Page Info-->
    
    <title>
        
            操作系统 -
        
        SerendyLin BLOG
    </title>

    
<link rel="stylesheet" href="/fonts/Chillax/chillax.css">


    <!--- Inject Part-->
    

    
        <style>
    :root {
        --preloader-background-color: #fff;
        --preloader-text-color: #000;
    }

    @media (prefers-color-scheme: dark) {
        :root {
            --preloader-background-color: #202124;
            --preloader-text-color: #fff;
        }
    }

    @media (prefers-color-scheme: light) {
        :root {
            --preloader-background-color: #fff;
            --preloader-text-color: #000;
        }
    }

    @media (max-width: 600px) {
        .ml13 {
            font-size: 2.6rem !important; /* Adjust this value as needed */
        }
    }

    .preloader {
        display: flex;
        flex-direction: column;
        gap: 1rem; /* Tailwind 'gap-4' is 1rem */
        align-items: center;
        justify-content: center;
        position: fixed;
        padding: 12px;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        width: 100vw;
        height: 100vh; /* 'h-screen' is 100% of the viewport height */
        background-color: var(--preloader-background-color);
        z-index: 1100; /* 'z-[1100]' sets the z-index */
        transition: opacity 0.2s ease-in-out;
    }

    .ml13 {
        font-size: 3.2rem;
        /* text-transform: uppercase; */
        color: var(--preloader-text-color);
        letter-spacing: -1px;
        font-weight: 500;
        font-family: 'Chillax-Variable', sans-serif;
        text-align: center;
    }

    .ml13 .word {
        display: inline-flex;
        flex-wrap: wrap;
        white-space: nowrap;
    }

    .ml13 .letter {
        display: inline-block;
        line-height: 1em;
    }
</style>

<div class="preloader">
    
<script src="/js/libs/anime.min.js"></script>

    <h1 class="ml13">
        SerendyLin BLOG
    </h1>
    <script>
        var textWrapper = document.querySelector('.ml13');
        // Split text into words
        var words = textWrapper.textContent.trim().split(' ');

        // Clear the existing content
        textWrapper.innerHTML = '';

        // Wrap each word and its letters in spans
        words.forEach(function(word) {
            var wordSpan = document.createElement('span');
            wordSpan.classList.add('word');
            wordSpan.innerHTML = word.replace(/\S/g, "<span class='letter'>$&</span>");
            textWrapper.appendChild(wordSpan);
            textWrapper.appendChild(document.createTextNode(' ')); // Add space between words
        });


        anime.timeline({loop: true})
            .add({
                targets: '.ml13 .letter',
                translateY: [100,0],
                translateZ: 0,
                opacity: [0,1],
                easing: "easeOutExpo",
                duration: 1400,
                delay: (el, i) => 300 + 30 * i
            }).add({
            targets: '.ml13 .letter',
            translateY: [0,-100],
            opacity: [1,0],
            easing: "easeInExpo",
            duration: 1200,
            delay: (el, i) => 100 + 30 * i
        });

        let themeStatus = JSON.parse(localStorage.getItem('REDEFINE-THEME-STATUS'))?.isDark;

        // If the theme status is not found in local storage, check the preferred color scheme
        if (themeStatus === undefined || themeStatus === null) {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                themeStatus = 'dark';
            } else {
                themeStatus = 'light';
            }
        }

        // Now you can use the themeStatus variable in your code
        if (themeStatus) {
            document.documentElement.style.setProperty('--preloader-background-color', '#202124');
            document.documentElement.style.setProperty('--preloader-text-color', '#fff');
        } else {
            document.documentElement.style.setProperty('--preloader-background-color', '#fff');
            document.documentElement.style.setProperty('--preloader-text-color', '#000');
        }

        window.addEventListener('load', function () {
            hidePreloaderAfterTimeout(1000); // Hide after 1000 milliseconds once the window has loaded
        });

        // Backup failsafe: Hide preloader after a maximum of 5000 milliseconds, regardless of the window load event
        hidePreloaderAfterTimeout(5000);

        function hidePreloaderAfterTimeout(delay) {
            setTimeout(function () {
                var preloader = document.querySelector('.preloader');
                preloader.style.opacity = '0';
                setTimeout(function () {
                    preloader.style.display = 'none';
                }, 200);
            }, delay);
        }
    </script>
</div>
    

    
<link rel="stylesheet" href="/css/style.css">


    
        
<link rel="stylesheet" href="/assets/build/styles.css">

    

    
<link rel="stylesheet" href="/fonts/fonts.css">

    
<link rel="stylesheet" href="/fonts/Satoshi/satoshi.css">

    <!--- Font Part-->
    
    
    
    


    <script id="hexo-configurations">
    window.config = {"hostname":"example.com","root":"/","language":"en","path":"search.xml"};
    window.theme = {"articles":{"style":{"font_size":"18px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true,"title_alignment":"center","headings_top_spacing":{"h1":"5rem","h2":"4rem","h3":"2.8rem","h4":"2.5rem","h5":"2.2rem","h6":"2rem"}},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":false,"list":["xiaoemo"]},"code_block":{"copy":true,"style":"mac","font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":4,"number":false,"expand":true,"init_open":true},"copyright":{"enable":true,"default":"cc_by_nc_sa"},"lazyload":true,"recommendation":{"enable":false,"title":"推荐阅读","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#9eb45f","secondary":null,"default_mode":"light"},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":true,"percentage":true},"website_counter":{"url":"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true,"preloader":true,"open_graph":true,"google_analytics":{"enable":true,"id":"G-XF0XWGF3JV"}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"/images/wallhaven-o5mwyl.png","dark":"/images/wallhaven-jxjrww.png"},"title":"IF YOU CAN NOT BE A POET, BE THE POEM","subtitle":{"text":["做不了李白 就活成明月"],"hitokoto":{"enable":false,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.7rem","line_height":1.2},"custom_font":{"enable":false,"family":"Lemon","url":"https://fonts.googleapis.com/css2?family=Lemon&display=swap"},"social_links":{"enable":true,"style":"default","links":{"github":"https://github.com/XMNSatay","instagram":null,"zhihu":"https://www.zhihu.com/people/xing-yun-ying-mo","twitter":null,"email":"serendylin@outlook.com"},"qrs":{"weixin":"/images/微信图片_20230901163956.jpg","fab fa-qq":"/images/091B49A2F9CB323A7362A2830917B582.jpg"}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":true,"type":"fixed","audios":[{"name":"轨迹","artist":"周杰伦","url":"http://ws.stream.qqmusic.qq.com/C4000046ZxpT2GurZh.m4a?guid=977073727&vkey=DE3361F205BBD067E0449F84A502DBA45396D01020DB9BA1D3639B2B867BF199F5D8A8C712F9437E843245C17B984D79BAE7D888808F77C7&uin=&fromtag=120032","cover":"https://pic4.zhimg.com/v2-8ba910872a76670064c4280f654ef4b7_r.jpg","lrc":null},{"name":"若把你","artist":"刘瑾睿","url":"http://music.163.com/song/media/outer/url?id=865632948.mp3","cover":"https://gimg3.baidu.com/yule/src=http%3A%2F%2Fgips2.baidu.com%2Fit%2Fu%3D1891696427%2C2591050078%26fm%3D3007%26app%3D3007%26f%3DJPEG%3Fw%3D500%26h%3D500&refer=http%3A%2F%2Fwww.baidu.com&app=2019&size=w931&n=0&g=0n&q=75&fmt=auto?sec=1678122000&t=1d43c7f2cb35a3a6f232d87b668b7fed"},{"name":"你的星 | On Your Planet","artist":"万玲琳","url":"http://music.163.com/song/media/outer/url?id=1872955849.mp3","cover":"https://y.qq.com/music/photo_new/T002R300x300M0000031cHw32UyHyX_1.jpg?max_age=2592000"},{"name":"想念拟人化","artist":"孟慧圆","url":"http://music.163.com/song/media/outer/url?id=1379662223.mp3","cover":"https://gimg3.baidu.com/yule/src=http%3A%2F%2Fgips2.baidu.com%2Fit%2Fu%3D139213094%2C742853167%26fm%3D3007%26app%3D3007%26f%3DPNG%3Fw%3D500%26h%3D500&refer=http%3A%2F%2Fwww.baidu.com&app=2019&size=w931&n=0&g=0n&q=75&fmt=auto?sec=1678122000&t=57c43bd3a19e0847c75d4898ba8f039b"},{"name":"兰亭序","artist":"周杰伦","url":"http://ws.stream.qqmusic.qq.com/C400003qEb7w0VJfDO.m4a?guid=583085419&vkey=1736239D6C86FE82AB6703107F9468ADEFE2752D5063BF9A8F2C2FA77A2F33AC06546AC331DC0794125450B448FAC0EB7FEA9678327F3541&uin=&fromtag=120032","cover":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg1.doubanio.com%2Fview%2Fgroup_topic%2Fl%2Fpublic%2Fp182017859.jpg&refer=http%3A%2F%2Fimg1.doubanio.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1680837451&t=aa9d07b4c207ec622eee4832d379116d"},{"name":"我只在乎你","artist":"邓丽君","url":"https://www.ytmp3.cn/down/78539.mp3","cover":"https://pic.baike.soso.com/ugc/baikepic2/16446/20170612122728-801020897.jpg/0"},{"name":"你怎么说","artist":"邓丽君","url":"http://music.163.com/song/media/outer/url?id=226836.mp3","cover":"https://pic.baike.soso.com/ugc/baikepic2/16446/20170612122728-801020897.jpg/0"}]},"mermaid":{"enable":false,"version":"9.3.0"}},"version":"2.6.2","navbar":{"auto_hide":false,"color":{"left":"#bd7ba7","right":"#367df7","transparency":35},"width":{"home":"1200px","pages":"1000px"},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Categories":{"path":"/categories","icon":"fa-regular fa-folder"},"Friends":{"icon":"fa-regular fa-planet-ringed","path":"/links"}},"search":{"enable":true,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"info","announcement":"缓缓飘落的枫叶像思念","show_on_mobile":true,"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Categories":{"path":"/categories","icon":"fa-regular fa-folder"},"Friends":{"path":"/links","icon":"fa-regular fa-planet-ringed"},"ContactMe":{"path":"/2023/03/12/ContactME/","icon":"fa-regular fa-phone"}}},"article_date_format":"auto","categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":5}},"footerStart":"2023/2/26 00:00:00"};
    window.lang_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    window.data = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<meta name="generator" content="Hexo 6.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
<!--        <span class="swup-progress-icon">-->
<!--            <i class="fa-solid fa-circle-notch fa-spin"></i>-->
<!--        </span>-->
    
</div>


<main class="page-container" id="swup">

    

    <div class="main-content-container">


        <div class="main-content-header">
            <header class="navbar-container px-6 md:px-12">

    <div class="navbar-content ">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="/images/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20230901165939.jpg">
                </a>
            
            <a class="logo-title" href="/">
                
                SerendyLin BLOG
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/"
                                        >
                                    <i class="fa-regular fa-house fa-fw"></i>
                                    HOME
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/archives"
                                        >
                                    <i class="fa-regular fa-archive fa-fw"></i>
                                    ARCHIVES
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/categories"
                                        >
                                    <i class="fa-regular fa-folder fa-fw"></i>
                                    CATEGORIES
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/links"
                                        >
                                    <i class="fa-regular fa-planet-ringed fa-fw"></i>
                                    FRIENDS
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                    
                        <li class="navbar-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i>
                    </div>
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile sheet -->
    <div class="navbar-drawer h-screen w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between">
        <ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start">
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/"
                        >
                            <span>
                                HOME
                            </span>
                            
                                <i class="fa-regular fa-house fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/archives"
                        >
                            <span>
                                ARCHIVES
                            </span>
                            
                                <i class="fa-regular fa-archive fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/categories"
                        >
                            <span>
                                CATEGORIES
                            </span>
                            
                                <i class="fa-regular fa-folder fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/links"
                        >
                            <span>
                                FRIENDS
                            </span>
                            
                                <i class="fa-regular fa-planet-ringed fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            

            
            
                
                    
                    
                    
                    
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/2023/03/12/ContactME/"
                        >
                            <span>ContactMe</span>
                            <i class="fa-regular fa-phone fa-sm fa-fw"></i>
                        </a>
                    </li>
                
            
        </ul>

        <div class="statistics flex justify-around my-2.5">
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">11</div>
        <div class="label text-third-text-color text-sm">Tags</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">6</div>
        <div class="label text-third-text-color text-sm">Categories</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">20</div>
        <div class="label text-third-text-color text-sm">Posts</div>
    </a>
</div>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="post-page-container flex relative justify-between box-border w-full h-full">
    <div class="article-content-container">

        <div class="article-title relative w-full">
            
                
                
                <img src="https://w.wallhaven.cc/full/85/wallhaven-855q8o.png" alt="操作系统" class="w-full h-60 sm:h-72 md:h-80 object-cover sm:rounded-t-large dark:brightness-75"/>
                
                <div class="w-full flex items-center absolute bottom-0 justify-center">
                    <h1 class="article-title-cover text-center mx-6 my-6 text-second-text-color bg-background-color-transparent px-4 py-3 text-3xl sm:text-4xl md:text-5xl font-bold backdrop-blur-lg rounded-xl border border-border-color ">操作系统</h1>
                </div>
            
            </div>

        
            <div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8">
                <div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]">
                    <img src="/images/po4.jpg">
                </div>
                <div class="info flex flex-col justify-between">
                    <div class="author flex items-center">
                        <span class="name text-default-text-color text-lg font-semibold">Serendy</span>
                        
                            <span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">xiaoemo</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2023-02-27 19:03:29</span>
        <span class="mobile">2023-02-27 19:03:29</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2023-07-12 11:28:07</span>
            <span class="mobile">2023-07-12 11:28:07</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                
                    
                        
                        <li>
                            <a href="/categories/Note/">Note</a>&nbsp;
                        </li>
                    
                    
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/Note/">Note</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fa-regular fa-typewriter"></i>&nbsp;<span>15.4k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fa-regular fa-clock"></i>&nbsp;<span>54 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        


        <div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8">
            <h1 id="2-进程的描述与控制"><a href="#2-进程的描述与控制" class="headerlink" title="2 进程的描述与控制"></a>2 进程的描述与控制</h1><h2 id="前趋图"><a href="#前趋图" class="headerlink" title="前趋图"></a>前趋图</h2><p>➢ 有向无循环图，用于描述进程之间执行的先后顺序<br>➢ 结点表示进程或程序段，有向边表示前趋关系</p>
<p><strong>前趋图</strong>(Precedence Graph)是一个<strong>有向无循环图</strong>，记为DAG(Directed Acyclic Graph)，用于描述进程之间执行的<strong>前后关系</strong></p>
<p>图中的每个结点可用于描述一个<strong>程序段或进程</strong>，乃至一条<strong>语句</strong>；结点间的有向边则用于表示两个结点之间存在的<strong>偏序</strong>(Partial Order)或<strong>前趋</strong>关系(Precedence Relation)“→”</p>
<p>→={(Pi, Pj)|Pi must complete before  Pj may start}  </p>
<p>如果(Pi, Pj)∈→,可写成Pi→Pj，称Pi是Pj 的<strong>直接前趋</strong>，而称Pj是Pi的<strong>直接后继</strong> </p>
<p>在前趋图中，把没有前趋的结点称为<strong>初始结点</strong>(Initial Node)，把没有后继的结点称为<strong>终止结点</strong>(Final Node)</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230228203352379.png" class>

<p>前趋图还可表示为：</p>
<p>P={P1, P2, P3, P4, P5, P6, P7, P8, P9}→</p>
<p>={ (P1, P2), (P1, P3), (P1, P4), (P2, P5), (P3, P5), (P4, P6), (P4, P7), (P5, P8), (P6, P8), (P7, P9), (P8, P9)}</p>
<h2 id="程序并发执行"><a href="#程序并发执行" class="headerlink" title="程序并发执行"></a>程序并发执行</h2><p>只有不存在前趋关系的程序才有可能并发执行</p>
<h3 id="程序并发执行时的特征"><a href="#程序并发执行时的特征" class="headerlink" title="程序并发执行时的特征"></a>程序并发执行时的特征</h3><p><strong>间断性</strong> ➢ 并发程序之间相互制约。 ➢ 执行——暂停执行——执行。 </p>
<p><strong>失去封闭性</strong> ➢ 多个程序共享全机资源。 ➢ 执行状态受外界因素影响。 </p>
<p><strong>不可再现性</strong> ➢ 程序经过多次执行后，虽然其执行时的环境和初始条件 都相同，但得到的结果却各不相同。</p>
<h2 id="进程的描述"><a href="#进程的描述" class="headerlink" title="进程的描述"></a>进程的描述</h2><p>多道程序环境下，程序的执行属于并发执行，此时它们 将失去封闭性，并具有间断性及不可再现性的特征。因此，通常的程序不能参加并发执行。为此，引入“进程”</p>
<h3 id="进程的定义"><a href="#进程的定义" class="headerlink" title="进程的定义"></a>进程的定义</h3><p>➢ 进程是程序的一次执行。 </p>
<p>➢ 进程是一个程序及其数据在处理机上顺序执行时所发生的活动。</p>
<p>➢ 进程是程序在一个数据集合上运行的过程，它是系统进行资源分配和调度的 一个独立单位。</p>
<p><strong>➢ 进程是进程实体的运行过程，是系统进行资源分配和调度的一个 独立单位。</strong></p>
<h3 id="进程和程序的区别"><a href="#进程和程序的区别" class="headerlink" title="进程和程序的区别"></a>进程和程序的区别</h3><p>进程是程序的一个实例， 是程序的一次执行。 </p>
<p>程序是进程的代码部分。</p>
<p> <strong>进程是活动的， 程序是静态的。</strong></p>
<p> 进程在内存中， 程序在外存中。</p>
<h3 id="进程的特征"><a href="#进程的特征" class="headerlink" title="进程的特征"></a>进程的特征</h3><p><strong>动态性 （最基本的特征）</strong></p>
<p> ➢ 有生命期 </p>
<p><strong>并发性</strong></p>
<p>➢ 多个进程可一 段时间内“同时”运行 </p>
<p> 独立性 </p>
<p>➢ 进程实体是一个能独立运行的基本单位 </p>
<p>➢ 是系统中独立获得资源和独立调度的基本单位 </p>
<p>异步性 </p>
<p>➢ 按各自独立的、 不可预知的速度向前推进</p>
<h2 id="进程的基本状态和切换"><a href="#进程的基本状态和切换" class="headerlink" title="进程的基本状态和切换"></a><u>进程的基本状态和切换</u></h2><h3 id="基本状态"><a href="#基本状态" class="headerlink" title="基本状态"></a>基本状态</h3><h4 id="创建状态（new）"><a href="#创建状态（new）" class="headerlink" title="创建状态（new）"></a>创建状态（new）</h4><h4 id="就绪状态（ready）：只需要再获得CPU"><a href="#就绪状态（ready）：只需要再获得CPU" class="headerlink" title="就绪状态（ready）：只需要再获得CPU"></a>就绪状态（ready）：只需要再获得CPU</h4><p>➢ 一个较大的程序通常都由若干个程序段组成 </p>
<p>➢ 程序在执行时，必须按照某种先后次序逐个执行，仅当前一操作执行完后，才能执行后继操作。 </p>
<h4 id="执行状态（running）：已获得CPU，正在执行的状态"><a href="#执行状态（running）：已获得CPU，正在执行的状态" class="headerlink" title="执行状态（running）：已获得CPU，正在执行的状态"></a>执行状态（running）：已获得CPU，正在执行的状态</h4><p>➢ 单处理机：一个进程处于执行状态 </p>
<p>➢ 多处理机：多个进程处于执行状态 </p>
<h4 id="阻塞状态（block-waiting）：进程等待某些事件发生的状态"><a href="#阻塞状态（block-waiting）：进程等待某些事件发生的状态" class="headerlink" title="阻塞状态（block / waiting）：进程等待某些事件发生的状态"></a>阻塞状态（block / waiting）：进程等待某些事件发生的状态</h4><p>➢ 正在执行的进程由于发生某事件而暂时无法继续执行的状态 </p>
<p>➢ 典型事件：请求I/O、申请缓冲空间 </p>
<p>➢ 根据阻塞原因，设置多个阻塞队列</p>
<h4 id="终止状态（terminated）"><a href="#终止状态（terminated）" class="headerlink" title="终止状态（terminated）"></a>终止状态（terminated）</h4><img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230228204454242.png" class title="image-20230228204454242">

<h3 id="进程状态的转换"><a href="#进程状态的转换" class="headerlink" title="进程状态的转换"></a>进程状态的转换</h3><p><strong>➢ 运行态变为就绪态</strong> </p>
<p>强制终止某进程的运行（系统原因） </p>
<p><strong>➢ 运行态变为阻塞态</strong> </p>
<p>运行进程等待外部事件发生（自身 原因） </p>
<p><strong>➢ 阻塞态变为就绪态</strong> </p>
<p>外部事件已经发生，可准备运行 </p>
<p><strong>➢ 就绪态变为运行态</strong> </p>
<p>停止其他进程运行后，运行该进程 占用CPU</p>
<h3 id="挂起操作及进程状态的转换"><a href="#挂起操作及进程状态的转换" class="headerlink" title="挂起操作及进程状态的转换"></a>挂起操作及进程状态的转换</h3><p>为什么引入挂起操作？ ➢ 终端用户的请求 ➢ 父进程请求 ➢ 负荷调节的需要 （实时系统） ➢ 操作系统的需要</p>
<h4 id="引入挂起操作后三个进程状态的转换"><a href="#引入挂起操作后三个进程状态的转换" class="headerlink" title="引入挂起操作后三个进程状态的转换"></a>引入挂起操作后三个进程状态的转换</h4><p>活动就绪——〉静止就绪（挂起）<br>活动阻塞——〉静止阻塞（挂起）<br>静止就绪——〉活动就绪（激活）<br>静止阻塞——〉活动阻塞（激活）<br>静止阻塞——〉静止就绪</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230228204734947.png" class title="image-20230228204734947">

<h2 id="进程管理中的数据结构——PCB"><a href="#进程管理中的数据结构——PCB" class="headerlink" title="进程管理中的数据结构——PCB"></a>进程管理中的数据结构——PCB</h2><p>PCB是进程的一部分， 是操作系统中最重要的<strong>记录型数据结构</strong>，是进程存在的唯一标志，常驻内存。</p>
<p>专门的数据结构，与进程一一对应。 </p>
<p>➢ 为描述和控制进程的运行，系统为每个进程定义了一个数据结构——<strong>进程控制块</strong> </p>
<p>➢ <strong>PCB</strong>（Process Control Block），是进程实体的一部分，记录了操作系统所需的、用于描述进程<strong>当前状况</strong>以及<strong>控制进程运行</strong>的全部信息 </p>
<p>➢ OS是根据PCB来对并发执行的进程进行控制和管理的</p>
<p>◆<strong>进程＝程序＋数据＋PCB</strong> ，即进程是一个程 序及其数据在处理机上顺序地执行时所发生 的活动 </p>
<p>◆ 进程控制块<strong>是进程存在的唯一标志</strong>。当系统 创建一个进程时，必须为它设置一个 PCB， 然后根据PCB的信息对进程<strong>实施控制管理</strong>， 进程任务完成时，系统收回它的PCB，进程也随之消亡</p>
<h3 id="PCB的作用"><a href="#PCB的作用" class="headerlink" title="PCB的作用"></a>PCB的作用</h3><p>➢ 作为独立运行基本单位的标志； ➢ 能实现间断性运行方式； ➢ 提供进程管理所需要的信息； ➢ 提供进程调度所需要的信息； ➢ 实现与其他进程的同步与通信。</p>
<h3 id="PCB中的信息"><a href="#PCB中的信息" class="headerlink" title="PCB中的信息"></a>PCB中的信息</h3><p>➢ <strong>进程标识信息</strong>：PID, PPID</p>
<p>用于唯一地标识一个进程。一个进程通常 有两种标识符： 1）<strong>内部标识符</strong>，数字 标识符；2）<strong>外部标识符</strong>，它由创建者提 供，描述进程的家族关系。 </p>
<p>➢ <strong>处理器状态信息</strong>：PC, PSW, 堆栈指针、寄 存器 </p>
<p>➢ <strong>进程调度信息</strong>：与进程调度和进程对换有关 的信息，包括： 进程状态、进程优先级、进 程调度所需的其它信息、事件 </p>
<p>➢ <strong>进程控制信息</strong>：程序和数据的地址、进程同 步和通信机制、资源清单、链接指针</p>
<h3 id="创建状态和终止状态——申请和回收PCB"><a href="#创建状态和终止状态——申请和回收PCB" class="headerlink" title="创建状态和终止状态——申请和回收PCB"></a>创建状态和终止状态——申请和回收PCB</h3><p><strong>创建状态</strong> ➢申请一个空白PCB；填写PCB；分配资源；设置就绪状态插入就绪队列</p>
<p><strong>终止状态</strong> ➢等待OS善后； ➢收回PCB</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230228205617028.png" class>

<h3 id="PCB的组织方式"><a href="#PCB的组织方式" class="headerlink" title="PCB的组织方式"></a>PCB的组织方式</h3><h4 id="线性方式"><a href="#线性方式" class="headerlink" title="线性方式"></a>线性方式</h4><ol>
<li>所有PCB组织在一张线形表，表的首址放在内存专用区域</li>
<li>实现简单</li>
<li>查找效率低</li>
</ol>
<h4 id="链接方式"><a href="#链接方式" class="headerlink" title="链接方式"></a>链接方式</h4><p>通过PCB中的连接字，将具有相同状态的PCB分别链接成一个队列</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230228205904622.png" class>

<h4 id="索引方式"><a href="#索引方式" class="headerlink" title="索引方式"></a>索引方式</h4><p>系统根据所有进程状态的不同，建立几张索引表</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230228205912228.png" class>

<h2 id="进程控制"><a href="#进程控制" class="headerlink" title="进程控制"></a>进程控制</h2><h3 id="进程的创建"><a href="#进程的创建" class="headerlink" title="进程的创建"></a>进程的创建</h3><p>① 申请空白PCB； ② 分配所需资源； ③ 初始化PCB； ④ 插入就绪队列。</p>
<h4 id="进程的层次结构"><a href="#进程的层次结构" class="headerlink" title="进程的层次结构"></a>进程的层次结构</h4><p>创建进程的进程是父进程，被创建的进程成为子进程</p>
<h4 id="进程图"><a href="#进程图" class="headerlink" title="进程图"></a>进程图</h4><p>➢ 描述进程家族关系的有向树</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230228210211006.png" class>

<h4 id="引起进程创建的事件（负责不同的任务）"><a href="#引起进程创建的事件（负责不同的任务）" class="headerlink" title="引起进程创建的事件（负责不同的任务）"></a>引起进程创建的事件（负责不同的任务）</h4><p>➢ 用户登录、作业调度、提供服务、应用请求</p>
<h3 id="进程的终止"><a href="#进程的终止" class="headerlink" title="进程的终止"></a>进程的终止</h3><p>引起进程终止的事件：正常结束、异常结束、外界干预</p>
<h4 id="进程的终止过程"><a href="#进程的终止过程" class="headerlink" title="进程的终止过程"></a>进程的终止过程</h4><p>1 根据被终止进程的标识符，从PCB集合中检索出该进程的PCB，从中读出该进程的状态；</p>
<p>2 若被终止进程正处于执行状态，应立即终止该进程的执行，并设置调度标志为真，用于指示该进程被终止后应重新进行调度；</p>
<p>3 若该进程还有子孙进程，还应将其所有子进程予以终止；（部分级联终止系统）</p>
<p>4 将该进程所拥有的全部资源，或者归还给其父进程或系统；</p>
<p>5 将被终止进程（PCB）从所在队列中移去。</p>
<h3 id="进程的阻塞与唤醒"><a href="#进程的阻塞与唤醒" class="headerlink" title="进程的阻塞与唤醒"></a>进程的阻塞与唤醒</h3><h4 id="引起进程阻塞和唤醒的事件"><a href="#引起进程阻塞和唤醒的事件" class="headerlink" title="引起进程阻塞和唤醒的事件"></a>引起进程阻塞和唤醒的事件</h4><p>➢ 向系统请求共享资源失败；等待某种操作的完成；新数据尚未到达；等待新 任务的到达。</p>
<h4 id="进程阻塞过程"><a href="#进程阻塞过程" class="headerlink" title="进程阻塞过程"></a>进程阻塞过程</h4><p>➢ 阻塞原语Block()。</p>
<p>➢ 进程的阻塞是进程自身的一种主动行为。 </p>
<p>➢ 具体过程：停止执行；状态由执行改为阻塞；将PCB插入阻塞队列。</p>
<h4 id="进程唤醒过程"><a href="#进程唤醒过程" class="headerlink" title="进程唤醒过程"></a>进程唤醒过程</h4><p>➢ 唤醒原语Wakeup()。</p>
<p>➢ 具体过程：从阻塞队列中移出；状态由阻塞改为就绪；将PCB插入 就绪队列。</p>
<p><strong>➢ 必须成对使用Block和Wakeup原语。</strong></p>
<h3 id="进程的挂起与激活"><a href="#进程的挂起与激活" class="headerlink" title="进程的挂起与激活"></a>进程的挂起与激活</h3><p>Suspend()原语</p>
<p>Active()原语</p>
<h2 id="进程通信"><a href="#进程通信" class="headerlink" title="进程通信"></a>进程通信</h2><p>进程通信是指进程之间的信息交换(各进程为了保持联系而交换信息)</p>
<p>高级进程通信：用户可直接利用OS所提供的一组通信命令，高效地传送大量数据的一种通信方式</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230308144022824.png" class title="image-20230308144022824">

<h3 id="共享存储器系统（shared-memory）"><a href="#共享存储器系统（shared-memory）" class="headerlink" title="共享存储器系统（shared memory）"></a>共享存储器系统（shared memory）</h3><p>➢ 基于共享数据结构的通信方式（效率低）<br>➢ 基于共享存储区的通信方式（高级，共享内存）</p>
<ol>
<li><p>共享存储器（shared-memory）方法的主要思想是：进 程之间通过共享某些数据结构或存储区实现信息传送。</p>
</li>
<li><p>两种类型： </p>
<p>➢ 基于<strong>共享数据结构</strong>的通信方式 （例：生产者—消费者问题中的有 界缓冲区，属于低级通信方式） </p>
<p>➢ 基于<strong>共享存储区</strong>的通信方式：在存储器中划出一块共享存储区， 诸进程通过对共享存储区中数据的读或写实现通信（传输大量数 据，属于高级通信）</p>
</li>
</ol>
<h3 id="消息传递系统（message-passing）"><a href="#消息传递系统（message-passing）" class="headerlink" title="消息传递系统（message passing）"></a>消息传递系统（message passing）</h3><p><strong>必须要有通信线路</strong></p>
<h4 id="直接通信方式"><a href="#直接通信方式" class="headerlink" title="直接通信方式"></a>直接通信方式</h4><p>通信线路是通过系统调用自动建立的。</p>
<p>➢ 发送进程利用OS所提供的发送命令，<strong>直接把消息发送给目标进程</strong><br>➢ 要求发送进程和接收进程都以<strong>显式方式提供对方的标识符</strong><br>➢ 系统提供下述两条通信命令(原语)：<br>        Send(<strong>Receiver</strong>, message)<br>        Receive(<strong>Sender</strong>, message)</p>
<h5 id="直接通信原语"><a href="#直接通信原语" class="headerlink" title="直接通信原语"></a>直接通信原语</h5><p>某些情况下，接收进程可与多个发送进程通信，因此，<strong>它不可能事先指定发送进程</strong>。<br>     例如，用于提供打印服务的进程，它可以接收来自任何一个进程的“打印请求”消息。<br>     对于这样的应用，在接收进程接收消息的原语中的源进程参数，<strong>是完成通信后的返回值</strong>，接收原语可表示为：Receive (id, message)</p>
<h5 id="消息格式"><a href="#消息格式" class="headerlink" title="消息格式"></a>消息格式</h5><p>➢ 通常，可把一个消息分成<strong>消息头和消息正文</strong>两部分。 </p>
<p>➢ <strong>消息头</strong>包括消息传输时所需的<strong>控制信息</strong>，如发送进程名、 接收进程名、消息长度、消息类型、消息编号及消息的发送日期和时间； </p>
<p>➢ <strong>消息正文</strong>则是发送进程实际上所发送的数据。</p>
<h5 id="通信链路"><a href="#通信链路" class="headerlink" title="通信链路"></a>通信链路</h5><p>为了在发送进程和接收进程之间能进行通信，必须在它们 之间建立一条通信链路。有两种方式建立通信链路：</p>
<ol>
<li><p><strong>隐式建立链路</strong>。发送进程无需明确提出建立链路的请 求，只需利用系统提供的发送命令(原语)，系统会自 动地为之建立一条链路。这种方式主要用于<strong>单机系统</strong> 中 </p>
</li>
<li><p><strong>显式建立链路</strong>。由发送进程在通信之前，用“建立连接”命令(原语)请求系统为之建立一条通信链路；在 链路使用完后，也应用显式方式拆除链路。这种方式 主要用于<strong>计算机网络</strong>中</p>
</li>
</ol>
<p>根据通信方式的不同，又可以把链路分为： </p>
<p>➢ <strong>单向通信链路</strong>: 只允许发送进程向接受者进程发送消 息 </p>
<p>➢ <strong>双向链路</strong>: 允许由进程A向进程B发送消息，也允许进 程B同时向进程A发送消息</p>
<p>根据<strong>通信链路的容量</strong>的不同也可以把链路分成： </p>
<p>➢ <strong>无容量通信链路</strong>: 在这种通信链路上没有缓冲区，因而 不能暂存任何消息 </p>
<p>➢ <strong>有容量通信链路</strong>: 在这种通信链路上设置了缓冲区，因 而能暂存消息，缓冲区数目愈多，通信链路的容量愈 大</p>
<p>➢ 利用直接通信原语，来解决生产者-消费者问题</p>
<p> ➢ 当生产者生产出一个产品(消息)后， 便用Send原语将消息发送给消费者进程；而消费者进程则利用Receive原语 来得到一个消息。</p>
<p>可以考虑使用<strong>阻塞</strong>。 例如，阻塞消费者，如果消息尚未生 产出来，消费者必须等待，直至生产 者进程将消息发送过来。</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230308144842725.png" class title="image-20230308144842725">

<h5 id="进程同步方式"><a href="#进程同步方式" class="headerlink" title="进程同步方式"></a>进程同步方式</h5><p>在进程之间进行通信时，往往也需要辅以进程同步，以使它们能协调通信</p>
<p>➢ 发送进程阻塞、 接收进程阻塞</p>
<p>➢ 发送进程不阻塞、 接收进程阻塞 </p>
<p>➢ 发送进程和接收进程均不阻塞</p>
<h4 id="间接通信方式（通过邮箱）"><a href="#间接通信方式（通过邮箱）" class="headerlink" title="间接通信方式（通过邮箱）"></a>间接通信方式（通过邮箱）</h4><p>通信线路是通过不同进程共享邮箱时建立的。</p>
<ol>
<li>进程不把消息直接发给接收者进程，而把消息放在某个<strong>双方共知的信箱（Mailbox）中</strong> </li>
<li>既可以实现实时通信，又可以实现<strong>非实时通信</strong></li>
<li>系统提供若干原语，分别用于信箱的<strong>创建、撤销</strong>和消息的<strong>发送、接收</strong></li>
</ol>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230308145011020.png" class title="image-20230308145011020">

<p><strong>信箱分为以下三类</strong> </p>
<p>➢ <strong>私用信箱</strong>：<strong>用户</strong>进程可为自己建立一个新信箱，并作为该<strong>进程的一 部分</strong>。信箱的拥有者有权从信箱中读取消息，其他用户则只能将自己构成的消息发送到该信箱中 </p>
<p>➢ <strong>公用信箱</strong>：它由<strong>操作系统</strong>创建，并提供给系统中的所有核准进程使 用。核准进程既可把消息发送到该信箱中，也可从信箱中读取发送 给自己的消息 </p>
<p>➢ <strong>共享信箱</strong>：它由<strong>某进程</strong>创建，在创建时或创建后，指明它是可共享的，<strong>同时须指出共享进程(用户)的名字</strong>。信箱的拥有者和共享者，都 有权从信箱中取走发送给自己的消息</p>
<ol>
<li>消息缓冲队列通信机制 </li>
<li>首先由美国的Hansen提出，并在RC4000系统上实现，后 来被广泛应用于本地进程之间的通信中。</li>
<li>基本思想：发送进程利用send原语，将消息发给接收进程； 接收进程则利用Receive原语，接收消息。</li>
</ol>
<h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><ol>
<li>当前应用<strong>最广泛</strong>的进程间通信机制 </li>
<li>系统提供<strong>发送消息</strong>Send(message)与<strong>接收消息</strong>Receive(message) 两个操 作，进程间则通过使用这两个操作进行通讯，无需共享任何变量 </li>
<li>实现方式的不同分成<strong>直接通信方式</strong>和<strong>间接通信方式</strong>两种 </li>
<li>进程间的数据交换，以<strong>格式化的消息</strong>为单位。所谓“信息”通常由消 息头和消息正文构成 </li>
<li>实现了大量数据的传递，隐藏了实现细节，简化了程序编制复杂性， 使用最广泛</li>
</ol>
<h4 id="管道通信（pipe）"><a href="#管道通信（pipe）" class="headerlink" title="管道通信（pipe）"></a>管道通信（pipe）</h4><p>管道：用于连接一个读进程和一个写进程以实现它们之间通信的一个共享<strong>文件</strong>，又名pipe文件。 </p>
<p>➢ 管道机制的协调能力：互斥、同步、对方是否存在</p>
<ol>
<li>所谓“管道”，是指用于连接一个读进程和一个写进程以实现他们之间通信的一个<strong>共享文件</strong>，又名pipe文件</li>
<li>向管道提供输入的<strong>发送进程(即写进程)<strong>，以字符流形式将大量的数据送人管道；而</strong>接收进程(即读进程</strong>)，可从管道中接收数据</li>
<li>这种方式首创于UNIX系统，因它能传送大量的数据，且很有效，故又被引入到许多其它操作系统中</li>
</ol>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230308145609059.png" class title="image-20230308145609059">

<ol>
<li><strong>互斥</strong>：即当一个进程正在对pipe执行读/写操作时，其它(另一)进程必须等待。</li>
<li><strong>同步</strong>：指当写(输入)进程把一定数量的数据写入pipe，便去睡眠等待， 直到读(输出)进程取走数据后，再把他唤醒。当读进程读一空pipe时，也应睡眠等待，直至写进程将数据写入管道后，才将之唤醒。</li>
<li><strong>确定对方是否存在，只有确定了对方已存在时，才能进行通信。</strong></li>
</ol>
<h4 id="客户机-服务器系统"><a href="#客户机-服务器系统" class="headerlink" title="客户机-服务器系统"></a>客户机-服务器系统</h4><p>➢ 套接字（Socket）<br>➢ IP地址（哪一台电脑）+端口号（哪一个程序）</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230308145710889.png" class title="image-20230308145710889">

<p>远程过程调用（RPC，Remote Procedure Call）和远程方法调用（RMI，Remote  Method Invocation，Java）</p>
<h2 id="线程的基本概念"><a href="#线程的基本概念" class="headerlink" title="线程的基本概念"></a>线程的基本概念</h2><h4 id="提出线程的目的"><a href="#提出线程的目的" class="headerlink" title="提出线程的目的"></a><strong>提出线程的目的</strong></h4><p>➢ 减少程序在并发执行时所付出的时空开销<br>➢ 使OS具有更好的并发性</p>
<p><strong>进程是拥有资源的基本单位（传统进程称为重型进程）</strong> </p>
<p><strong>线程作为调度和分派的基本单位（又称为轻型进程）</strong></p>
<h3 id="线程和进程的比较"><a href="#线程和进程的比较" class="headerlink" title="线程和进程的比较"></a>线程和进程的比较</h3><h4 id="调度的基本单位"><a href="#调度的基本单位" class="headerlink" title="调度的基本单位"></a>调度的基本单位</h4><p>➢在传统的OS中，拥有资源、独立调度和分派的基本单位都是进程；<br>➢在引入线程的OS中，线程作为调度和分派的基本单位，进程作为资源拥有的基本单位；<br>➢在同一进程中，线程的切换不会引起进程切换，在由一个进程中的线程切换到另一个进程中的线程时，将会引起进程切换。</p>
<h4 id="并发性"><a href="#并发性" class="headerlink" title="并发性"></a>并发性</h4><p>➢在引入线程的操作系统中，不仅进程之间可以并发执行，而且在一个进程中的多个线程之间，也可并发执行。</p>
<h4 id="拥有资源"><a href="#拥有资源" class="headerlink" title="拥有资源"></a>拥有资源</h4><p>➢进程是系统中拥有资源的一个基本单位，它可以拥有资源。<br>➢线程本身不拥有系统资源，仅有一点保证独立运行的资源。<br>➢允许多个线程共享其隶属进程所拥有的资源。</p>
<h4 id="独立性"><a href="#独立性" class="headerlink" title="独立性"></a>独立性</h4><p>➢同一进程中的不同线程之间的独立性要比不同进程之间的独立性低得多。</p>
<h4 id="系统开销"><a href="#系统开销" class="headerlink" title="系统开销"></a>系统开销</h4><p>➢在创建或撤消进程时，OS所付出的开销将显著大于创建或撤消线程时的开销。<br>➢线程切换的代价远低于进程切换的代价。<br>➢同一进程中的多个线程之间的同步和通信也比进程的简单。</p>
<h4 id="支持多处理机系统"><a href="#支持多处理机系统" class="headerlink" title="支持多处理机系统"></a>支持多处理机系统</h4><h3 id="线程状态"><a href="#线程状态" class="headerlink" title="线程状态"></a>线程状态</h3><p>➢ 执行态、就绪态、阻塞态 </p>
<p>➢ 线程状态转换与进程状态转换一样</p>
<h3 id="线程控制块（thread-control-block，TCB）"><a href="#线程控制块（thread-control-block，TCB）" class="headerlink" title="线程控制块（thread control block，TCB）"></a>线程控制块（thread control block，TCB）</h3><p>➢ 线程标识符、一组寄存器、线程<br>运行状态、优先级、线程专有存<br>储区、信号屏蔽、堆栈指针</p>
<h2 id="线程的实现"><a href="#线程的实现" class="headerlink" title="线程的实现"></a>线程的实现</h2><h3 id="内核支持线程KST"><a href="#内核支持线程KST" class="headerlink" title="内核支持线程KST"></a>内核支持线程KST</h3><p><strong>在内核空间实现</strong></p>
<p>优点：</p>
<p>➢在多处理机系统中，内核可同时调度同一进程的多个线程<br>➢如一个线程阻塞了，内核可调度其他线程(同一或其他进程)。<br>➢线程的切换比较快，开销小。<br>➢内核本身可采用多线程技术，提高执行速度和效率。</p>
<p>缺点：</p>
<p>➢对用户线程切换，开销较大。</p>
<h3 id="用户级线程ULT"><a href="#用户级线程ULT" class="headerlink" title="用户级线程ULT"></a>用户级线程ULT</h3><p><strong>在用户空间实现</strong><br>优点：</p>
<p>➢线程切换不需要转换到内核空间。<br>➢调度算法可以是进程专用的。<br>➢线程的实现与OS平台无关。</p>
<p>缺点：</p>
<p>➢系统调用的阻塞问题。<br>➢多线程应用不能利用多处理机进行多重处理的优点。</p>
<h3 id="ULT与KST组合方式"><a href="#ULT与KST组合方式" class="headerlink" title="ULT与KST组合方式"></a>ULT与KST组合方式</h3><h4 id="多对一模型"><a href="#多对一模型" class="headerlink" title="多对一模型"></a>多对一模型</h4><p><strong>多个用户级线程映射到一个内核线程。</strong><br>多个线程不能并行运行在多个处理器上。<br>线程管理在用户态执行，因此是高效的，但一个线程的阻塞系统调用会导致整个进程的阻塞 。<br>用于不支持内核线程的系统中。<br>例子: ➢Solaris Green Threads➢GNU Portable Threads</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230308150351364.png" class title="image-20230308150351364">

<h4 id="一对一模型"><a href="#一对一模型" class="headerlink" title="一对一模型"></a>一对一模型</h4><p><strong>每个用户级线程映射到一个内核线程。</strong><br>比多对一模型有更好的并发性。<br>允许多个线程并行运行在多个处理器上。<br>创建一个ULT需要创建一个KLT，效率较差。</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230308150452088.png" class title="image-20230308150452088">

<h4 id="多对多模型"><a href="#多对多模型" class="headerlink" title="多对多模型"></a>多对多模型</h4><p><strong>多个用户级线程映射为相等或小于数目的内核线程。</strong></p>
<p>允许操作系统创建足够多的KLT。</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230308150521250.png" class title="image-20230308150521250">

<h1 id="3-处理机调度与死锁"><a href="#3-处理机调度与死锁" class="headerlink" title="3 处理机调度与死锁"></a>3 处理机调度与死锁</h1><h2 id="处理机调度概述"><a href="#处理机调度概述" class="headerlink" title="处理机调度概述"></a>处理机调度概述</h2><ol>
<li>在多道程序系统中，一个作业从提交到执行，通常都要经历<strong>多级调度</strong><br>➢ 如高级调度、低级调度、中级调度以及I/O调度等</li>
<li>系统的<strong>运行性能</strong>在很大程度上取决于调度<br>➢ 如吞吐量的大小、周转时间的长短、响应的及时性等</li>
<li>调度是多道程序系统的关键</li>
</ol>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426131204628.png" class title="image-20230426131204628">

<p>◼CPU资源管理——多道程序设计面临的挑战<br> 批处理系统：如何安排内存中多个作业的运行顺序？<br> 交互式系统：如何更好应对不同的交互式请求？<br> 实时系统：如何保证实时服务的高质量？<br>◼ 进程调度——有效的管理CPU资源<br> When：何时进行进程调度？<br> How：遵循何种规则完成调度？<br> What：调度过程中需要完成哪些工作？<br>◼ 进程调度的级别<br> 高级调度：也称宏观调度，决定哪些程序可以进入系统<br> 中级调度：也称内存调度，决定内存中程序的位置和状态<br> 低级调度：也称微观调度，决定CPU资源在就绪进程间的分</p>
<h3 id="处理机调度层次"><a href="#处理机调度层次" class="headerlink" title="处理机调度层次"></a>处理机调度层次</h3><p><strong>高级调度（长程调度/作业调度）</strong><br><strong>中级调度（中程调度/内存调度）</strong><br><strong>低级调度（短程调度/进程调度）</strong></p>
<h4 id="高级调度"><a href="#高级调度" class="headerlink" title="高级调度"></a>高级调度</h4><p>调度对象：<strong>作业</strong><br>根据某种算法，决定将外存上处于后备队列中的作业调入内存，并为它们创建进程和分配必要的资源。然后，将新创建的进程<strong>排在就绪队列上等待调度</strong>。<br>主要用于多道批处理系统中</p>
<p>作业：在多道批处理操作系统中，用户提 交给系统的一项相对独立的工作</p>
<ol>
<li>作业（JOB）：是用户在一次算题过程中或一次事务处理中，要求计算机系统所做的工作的集合。在批处理系统中，以作业为单位从外存调入内存</li>
<li>作业和进程的关系：作业是比进程更广泛的概念，不仅包含了通常的程序和数据，而且还配有一份作业说明书，系统根据作业说明书对程序运行进行控制</li>
</ol>
<h5 id="作业控制块"><a href="#作业控制块" class="headerlink" title="作业控制块"></a>作业控制块</h5><ol>
<li>作业控制块（JCB）:多道批处理系统中，为 每个作业设置一个作业控制块。 JCB是一个 作业在系统中存在的惟一标志，系统根据JCB 才感知到作业的存在 </li>
<li>JCB包含内容：作业控制块JCB中包含了对作 业进行管理的必要信息，JCB中的信息一部分 是从用户提供的作业控制卡或作业说明书中 得到，另一部分是记录作业运行过程中的动 态信息 </li>
<li>JCB的生成：作业提交给系统后，便由“作业 注册”程序为作业建立一个作业控制块JCB， 放入后备队列</li>
</ol>
<h4 id="中级调度"><a href="#中级调度" class="headerlink" title="中级调度"></a>中级调度</h4><p>引入中级调度的主要目的，是为了提高内存利用率和系统吞吐量； 使那些暂时不能运行的进程不再占用宝贵的内存资源，将它们调至外 存上去等待，把此时的进程状态称为就绪驻外存状态或<strong>挂起</strong>状态；</p>
<p>当这些进程具备运行条件、且内存又稍有空闲时，由中级调度来 决定把就绪进程，重新调入内存，并修改其状态为就绪状态，挂在 就绪队列上等待进程调度；</p>
<p>即“<strong>对换</strong>” 功能；短期<strong>调整系统负荷</strong>，平顺系统操作</p>
<h4 id="低级调度"><a href="#低级调度" class="headerlink" title="低级调度"></a>低级调度</h4><p>调度对象：<strong>进程</strong></p>
<p>根据某种调度算法，决定就绪队列中的哪个进程应<strong>获得处理机</strong></p>
<p>应用在于多道批处理、分时和实时OS</p>
<h5 id="进程调度的任务"><a href="#进程调度的任务" class="headerlink" title="进程调度的任务"></a>进程调度的任务</h5><ol>
<li><strong>保存处理机现场信息</strong>。进程调度程序把当前进程的现场信息，如程序计数器及通用寄存器的内容等保留在该进程PCB的现场信息区中</li>
<li><strong>按某种算法挑选进程</strong>。根据一定的调度算法(如先到先服务)，从就绪队列中选出一个进程来，并把它的状态改为运行态，准备把CPU分配给它</li>
<li><strong>把处理器分配给进程</strong>。为选中的进程恢复现场信息，并把CPU的控制权交给该进程,它接着上次间断的地方继续运行</li>
</ol>
<h5 id="进程调度机制"><a href="#进程调度机制" class="headerlink" title="进程调度机制"></a>进程调度机制</h5><ol>
<li><strong>排队器</strong>:将就绪进程按一定方式排成队列</li>
<li><strong>分派器</strong>（dispatcher，分派程序）:把进程调度程序选定的进程，从就绪队列中取出，进行上下文切换，把处理器分配给它</li>
<li><strong>上下文切换机制</strong>:①保存当前进程上下文，装入分派程序上下文，分派程序运行； ②移出分派程序，装入新选进程上</li>
</ol>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426131633587.png" class title="image-20230426131633587">

<h4 id="处理机调度三级层次"><a href="#处理机调度三级层次" class="headerlink" title="处理机调度三级层次"></a>处理机调度三级层次</h4><img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426131729299.png" class title="image-20230426131729299">

<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426131751390.png" class title="image-20230426131751390">

<h3 id="进程调度的任务-1"><a href="#进程调度的任务-1" class="headerlink" title="进程调度的任务"></a>进程调度的任务</h3><p><strong>进程调度的任务</strong><br>➢ 保存处理机的现场信息<br>➢ 按某种算法选取进程<br>➢ 把处理器分配给进程</p>
<p><strong>进程调度机制（调度程序分为三部分）</strong><br>➢ 排队器：用于将就绪进程插入相应的就绪队列<br>➢ 分派器：用于将选定的进程移出就绪队列<br>➢ 上下文切换器：进行新旧进程之间的上下文切换</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426131903355.png" class title="image-20230426131903355">

<h3 id="进程调度的方式"><a href="#进程调度的方式" class="headerlink" title="进程调度的方式"></a>进程调度的方式</h3><p><strong>非抢占方式</strong>： 一旦把处理机分配给某进 程后，便让该进程一直执 行，直至该进程完成或发 生某事件而被阻塞时，才 再把处理机分配给其他进 程，决不允许某进程抢占 已经分配出去的处理机。</p>
<p><strong>抢占方式</strong>：允许调度程序根据某种原 则，去暂停某个正在执行的进程，将 已分配给该进程的处理机重新分配给 另一进程。(现代OS广泛采用)</p>
<h3 id="调度准则"><a href="#调度准则" class="headerlink" title="调度准则"></a>调度准则</h3><img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426132012606.png" class title="image-20230426132012606">

<p>➢ 取决于操作系统的类型和目标<br>➢ 不同的操作系统，有不同的调度方式和算法<br>➢ 有面向用户的准则，也有面向系统的准则<br>Max CPU utilization 		最大CPU利用率<br>Max throughput				最大吞吐量<br>Min turnaround time 	 最小周转时间<br>Min waiting time  			 最小等待时间<br>Min response time			最小响应时间</p>
<p><strong>普遍目标</strong>： ➢ 资源利用率 ➢ 公平性 ➢ 平衡性 ➢ 策略强制执行</p>
<p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -2.059ex;" xmlns="http://www.w3.org/2000/svg" width="56.176ex" height="5.285ex" role="img" focusable="false" viewbox="0 -1426 24830 2336"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"/></g><g data-mml-node="mi" transform="translate(760,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"/></g><g data-mml-node="mi" transform="translate(1511,0)"><path data-c="1D448" d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z"/></g><g data-mml-node="mi" transform="translate(2278,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">利</text></g><g data-mml-node="mi" transform="translate(3278,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">用</text></g><g data-mml-node="mi" transform="translate(4278,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">率</text></g><g data-mml-node="mo" transform="translate(5555.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mfrac" transform="translate(6611.6,0)"><g data-mml-node="mrow" transform="translate(4970.2,676)"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"/></g><g data-mml-node="mi" transform="translate(760,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"/></g><g data-mml-node="mi" transform="translate(1511,0)"><path data-c="1D448" d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z"/></g><g data-mml-node="mi" transform="translate(2278,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">有</text></g><g data-mml-node="mi" transform="translate(3278,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">效</text></g><g data-mml-node="mi" transform="translate(4278,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">工</text></g><g data-mml-node="mi" transform="translate(5278,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">作</text></g><g data-mml-node="mi" transform="translate(6278,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">时</text></g><g data-mml-node="mi" transform="translate(7278,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">间</text></g></g><g data-mml-node="mrow" transform="translate(220,-710)"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"/></g><g data-mml-node="mi" transform="translate(760,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"/></g><g data-mml-node="mi" transform="translate(1511,0)"><path data-c="1D448" d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z"/></g><g data-mml-node="mi" transform="translate(2278,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">有</text></g><g data-mml-node="mi" transform="translate(3278,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">效</text></g><g data-mml-node="mi" transform="translate(4278,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">工</text></g><g data-mml-node="mi" transform="translate(5278,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">作</text></g><g data-mml-node="mi" transform="translate(6278,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">时</text></g><g data-mml-node="mi" transform="translate(7278,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">间</text></g><g data-mml-node="mo" transform="translate(8500.2,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mi" transform="translate(9500.4,0)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"/></g><g data-mml-node="mi" transform="translate(10260.4,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"/></g><g data-mml-node="mi" transform="translate(11011.4,0)"><path data-c="1D448" d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z"/></g><g data-mml-node="mi" transform="translate(11778.4,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">空</text></g><g data-mml-node="mi" transform="translate(12778.4,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">闲</text></g><g data-mml-node="mi" transform="translate(13778.4,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">等</text></g><g data-mml-node="mi" transform="translate(14778.4,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">待</text></g><g data-mml-node="mi" transform="translate(15778.4,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">时</text></g><g data-mml-node="mi" transform="translate(16778.4,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">间</text></g></g><rect width="17978.4" height="60" x="120" y="220"/></g></g></g></svg></mjx-container><br>批处理系统的目标： ➢ 平均周转时间短、系统吞吐量高、处理机利用率高</p>
<p>分时系统的目标： ➢ 响应时间快、均衡性</p>
<p>实时系统的目标： ➢ 截止时间的保证、可预测性</p>
<h3 id="评价指标"><a href="#评价指标" class="headerlink" title="评价指标"></a>评价指标</h3><h4 id="周转时间"><a href="#周转时间" class="headerlink" title="周转时间"></a>周转时间</h4><p>➢ 从作业提交给系统开始，到作业完成为止的这段时间间隔。<br>➢ <strong>平均周转时间</strong> <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.798ex;" xmlns="http://www.w3.org/2000/svg" width="11.327ex" height="2.755ex" role="img" focusable="false" viewbox="0 -864.9 5006.5 1217.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(255.4,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"/></g><g data-mml-node="mi" transform="translate(220,-345) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"/></g><rect width="624.3" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(864.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="munderover" transform="translate(1253.3,0)"><g data-mml-node="mo"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z"/></g><g data-mml-node="TeXAtom" transform="translate(1089,477.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"/></g></g><g data-mml-node="TeXAtom" transform="translate(1089,-285.4) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(345,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mn" transform="translate(1123,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"/></g></g></g><g data-mml-node="msub" transform="translate(3706.6,0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"/></g><g data-mml-node="mi" transform="translate(617,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g></g><g data-mml-node="mo" transform="translate(4617.5,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g></g></g></svg></mjx-container><br>➢ <strong>带权周转时间</strong>：权值为作业周转时间T与系统为之服务时间TS之比。<br>➢ 平均带权周转时间<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -1.045ex;" xmlns="http://www.w3.org/2000/svg" width="12.058ex" height="3.15ex" role="img" focusable="false" viewbox="0 -930.3 5329.7 1392.3"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(255.4,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"/></g><g data-mml-node="mi" transform="translate(220,-345) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"/></g><rect width="624.3" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(864.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="munderover" transform="translate(1253.3,0)"><g data-mml-node="mo"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z"/></g><g data-mml-node="TeXAtom" transform="translate(1089,477.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"/></g></g><g data-mml-node="TeXAtom" transform="translate(1089,-285.4) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(345,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mn" transform="translate(1123,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"/></g></g></g><g data-mml-node="mfrac" transform="translate(3706.6,0)"><g data-mml-node="msub" transform="translate(295,451.6) scale(0.707)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"/></g><g data-mml-node="mi" transform="translate(617,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g></g><g data-mml-node="msub" transform="translate(220,-345) scale(0.707)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"/></g><g data-mml-node="mi" transform="translate(617,-150) scale(0.707)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"/></g></g><rect width="994.1" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(4940.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g></g></g></svg></mjx-container></p>
<h4 id="吞吐量"><a href="#吞吐量" class="headerlink" title="吞吐量"></a>吞吐量</h4><p>➢ 单位时间内所完成的作业数</p>
<h4 id="等待时间（进程调度）"><a href="#等待时间（进程调度）" class="headerlink" title="等待时间（进程调度）"></a>等待时间（进程调度）</h4><p>➢ 进程在就绪队列中等待调度的所有时间之和。</p>
<h4 id="分时系统的目标"><a href="#分时系统的目标" class="headerlink" title="分时系统的目标"></a>分时系统的目标</h4><h5 id="响应时间"><a href="#响应时间" class="headerlink" title="响应时间"></a>响应时间</h5><p>➢ 从用户通过键盘提交请求开始，直到系统首次显示出处理结果为止的一段 时间。</p>
<h5 id="响应时间包括"><a href="#响应时间包括" class="headerlink" title="响应时间包括"></a>响应时间包括</h5><p>➢ ①从键盘输入的请求信息传送到处理机的时间<br>➢ ②处理机对请求信息进行处理的时间<br>➢ ③将所形成的响应回送到终端显示器的时间</p>
<h5 id="均衡性"><a href="#均衡性" class="headerlink" title="均衡性"></a>均衡性</h5><p>➢ 响应时间快慢与用户请求复杂度相适应</p>
<h4 id="实时系统的目标"><a href="#实时系统的目标" class="headerlink" title="实时系统的目标"></a>实时系统的目标</h4><h5 id="截止时间"><a href="#截止时间" class="headerlink" title="截止时间"></a>截止时间</h5><p>➢ 是指某任务必须开始执行的最迟时间，或必须完成的最迟时间</p>
<h2 id="调度算法"><a href="#调度算法" class="headerlink" title="调度算法"></a>调度算法</h2><h3 id="先来先服务（FCFS）调度算法"><a href="#先来先服务（FCFS）调度算法" class="headerlink" title="先来先服务（FCFS）调度算法"></a>先来先服务（FCFS）调度算法</h3><ol>
<li>作业调度和进程调度均可，最简单，本质上属<strong>非抢占方式</strong></li>
<li>有利于<strong>长作业/进程</strong>，不利于<strong>短作业</strong></li>
<li>有利于<strong>CPU繁忙型</strong>的作业(如通常的科学计算)，而不利于<strong>I/O繁忙</strong>的作业/进程（如大多数的事务处理)</li>
</ol>
<h3 id="短作业优先（SJF）调度算法"><a href="#短作业优先（SJF）调度算法" class="headerlink" title="短作业优先（SJF）调度算法"></a>短作业优先（SJF）调度算法</h3><h5 id="SJF算法：既可用于作业，也可用于进程"><a href="#SJF算法：既可用于作业，也可用于进程" class="headerlink" title="SJF算法：既可用于作业，也可用于进程"></a>SJF算法：既可用于作业，也可用于进程</h5><p>➢ 对作业：从后备队列中选择若干个估计运行时间最短的作业。 ➢ 对进程：关联到每个进程下次运行的CPU区间长度，调度最短的进程。</p>
<h5 id="对进程调度，SJF有两种模式"><a href="#对进程调度，SJF有两种模式" class="headerlink" title="对进程调度，SJF有两种模式"></a>对进程调度，SJF有两种模式</h5><p><strong>➢ 非抢占式SJF</strong><br><strong>➢ 抢占式SJF</strong>–抢占发生在有比当前进程剩余时间片更短的进程到达时，也称为最短剩余时间优先调度</p>
<h5 id="SJF是最优的（对一组指定的进程而言），它给出了最短的平均等待-时间。"><a href="#SJF是最优的（对一组指定的进程而言），它给出了最短的平均等待-时间。" class="headerlink" title="SJF是最优的（对一组指定的进程而言），它给出了最短的平均等待 时间。"></a>SJF是最优的（对一组指定的进程而言），它给出了最短的平均等待 时间。</h5><img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426204329895.png" class title="image-20230426204329895">

<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426204335845.png" class title="image-20230426204335845">

<h5 id="SJF比FCFS算法有明显改进"><a href="#SJF比FCFS算法有明显改进" class="headerlink" title="SJF比FCFS算法有明显改进"></a>SJF比FCFS算法有明显改进</h5><h5 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h5><p>只能估算进程的运行时间（估值不准确），所以通常用于作业调度<br>对长作业不利<br>采用SJF算法时，人-机无法实现交互<br>完全未考虑作业的紧迫程度</p>
<h3 id="优先级调度算法PR"><a href="#优先级调度算法PR" class="headerlink" title="优先级调度算法PR"></a>优先级调度算法PR</h3><p>既可用于作业调度，也可用于进程调度。</p>
<p>基于作业/进程的紧迫程度，由外部赋予作业相应的优先级，调度算法 根据优先级进行调度。</p>
<p>​	➢ 每个进程都有一个优先数，优先数为整数。<br>​	➢ 默认：小的优先数具有高优先级。<br>​	➢ 目前主流的操作系统调度算法。</p>
<p><strong>高响应比优先调度算法是一种优先级调度算法</strong>，用于作业调度。</p>
<h4 id="优先级调度算法的类型"><a href="#优先级调度算法的类型" class="headerlink" title="优先级调度算法的类型"></a>优先级调度算法的类型</h4><p>➢ 非抢占式 ➢ 抢占式</p>
<h4 id="优先级类型"><a href="#优先级类型" class="headerlink" title="优先级类型"></a>优先级类型</h4><p><strong>➢ 静态优先级</strong><br> 创建进程时确定优先数(整数)，在进程的整个运行期间保持不变<br> 简单易行，系统开销小<br> 不够精确，可能会出现优先级低的进程长期没有被调度的情况<br><strong>➢ 动态优先级</strong><br> 创建进程时先赋予其一个优先级，然后其值随进程的推进或等待时间的增加而改变</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426204751472.png" class title="image-20230426204751472">

<h5 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h5><p>➢ 实现简单，考虑了进程的紧迫程度<br>➢ 灵活，可模拟其它算法</p>
<h5 id="存在问题"><a href="#存在问题" class="headerlink" title="存在问题"></a>存在问题</h5><p>➢ 饥饿 ——低优先级的进程可能永远得不到运行</p>
<h5 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h5><p>➢ 老化 —— 视进程等待时间的延长提高其优先数</p>
<h3 id="高相应比优先调度算法（PR的特例）"><a href="#高相应比优先调度算法（PR的特例）" class="headerlink" title="高相应比优先调度算法（PR的特例）"></a>高相应比优先调度算法（PR的特例）</h3><p>既考虑作业的等到时间，又考虑作业的运行时间<br>➢ 优先级：<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -1.158ex;" xmlns="http://www.w3.org/2000/svg" width="18.238ex" height="3.447ex" role="img" focusable="false" viewbox="0 -1011.8 8061.2 1523.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mrow" transform="translate(220,481.4) scale(0.707)"><g data-mml-node="mi"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">等</text></g><g data-mml-node="mi" transform="translate(1000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">待</text></g><g data-mml-node="mi" transform="translate(2000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">时</text></g><g data-mml-node="mi" transform="translate(3000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">间</text></g><g data-mml-node="mo" transform="translate(4000,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mi" transform="translate(4778,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">要</text></g><g data-mml-node="mi" transform="translate(5778,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">求</text></g><g data-mml-node="mi" transform="translate(6778,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">服</text></g><g data-mml-node="mi" transform="translate(7778,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">务</text></g><g data-mml-node="mi" transform="translate(8778,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">时</text></g><g data-mml-node="mi" transform="translate(9778,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">间</text></g></g><g data-mml-node="mrow" transform="translate(1909.3,-370.3) scale(0.707)"><g data-mml-node="mi"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">要</text></g><g data-mml-node="mi" transform="translate(1000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">求</text></g><g data-mml-node="mi" transform="translate(2000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">服</text></g><g data-mml-node="mi" transform="translate(3000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">务</text></g><g data-mml-node="mi" transform="translate(4000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">时</text></g><g data-mml-node="mi" transform="translate(5000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">间</text></g></g><rect width="7821.2" height="60" x="120" y="220"/></g></g></g></svg></mjx-container><br>➢ 响应比：<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -1.158ex;" xmlns="http://www.w3.org/2000/svg" width="37.576ex" height="3.447ex" role="img" focusable="false" viewbox="0 -1011.8 16608.6 1523.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"/></g><g data-mml-node="mi" transform="translate(792,-150) scale(0.707)"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"/></g></g><g data-mml-node="mo" transform="translate(1475.5,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mfrac" transform="translate(2531.2,0)"><g data-mml-node="mrow" transform="translate(220,481.4) scale(0.707)"><g data-mml-node="mi"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">等</text></g><g data-mml-node="mi" transform="translate(1000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">待</text></g><g data-mml-node="mi" transform="translate(2000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">时</text></g><g data-mml-node="mi" transform="translate(3000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">间</text></g><g data-mml-node="mo" transform="translate(4000,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mi" transform="translate(4778,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">要</text></g><g data-mml-node="mi" transform="translate(5778,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">求</text></g><g data-mml-node="mi" transform="translate(6778,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">服</text></g><g data-mml-node="mi" transform="translate(7778,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">务</text></g><g data-mml-node="mi" transform="translate(8778,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">时</text></g><g data-mml-node="mi" transform="translate(9778,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">间</text></g></g><g data-mml-node="mrow" transform="translate(1909.3,-370.3) scale(0.707)"><g data-mml-node="mi"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">要</text></g><g data-mml-node="mi" transform="translate(1000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">求</text></g><g data-mml-node="mi" transform="translate(2000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">服</text></g><g data-mml-node="mi" transform="translate(3000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">务</text></g><g data-mml-node="mi" transform="translate(4000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">时</text></g><g data-mml-node="mi" transform="translate(5000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">间</text></g></g><rect width="7821.2" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(10870.2,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mfrac" transform="translate(11926,0)"><g data-mml-node="mrow" transform="translate(927.1,481.4) scale(0.707)"><g data-mml-node="mi"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">响</text></g><g data-mml-node="mi" transform="translate(1000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">应</text></g><g data-mml-node="mi" transform="translate(2000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">时</text></g><g data-mml-node="mi" transform="translate(3000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">间</text></g></g><g data-mml-node="mrow" transform="translate(220,-370.3) scale(0.707)"><g data-mml-node="mi"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">要</text></g><g data-mml-node="mi" transform="translate(1000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">求</text></g><g data-mml-node="mi" transform="translate(2000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">服</text></g><g data-mml-node="mi" transform="translate(3000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">务</text></g><g data-mml-node="mi" transform="translate(4000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">时</text></g><g data-mml-node="mi" transform="translate(5000,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">间</text></g></g><rect width="4442.6" height="60" x="120" y="220"/></g></g></g></svg></mjx-container><br>➢ 如等待时间相同，运行时间越短，类似于SJF<br>➢ 如运行时间相同，取决于等待时间，类似于FCFS<br>➢ 长作业可随其等待时间的增加而提高，也可得到服务<br>➢ 缺点：每次调度之前，都需要计算响应比，增加系统开销</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426205046191.png" class title="image-20230426205046191">

<h3 id="时间片轮转-Round-Robin，RR-调度算法"><a href="#时间片轮转-Round-Robin，RR-调度算法" class="headerlink" title="时间片轮转(Round-Robin，RR)调度算法"></a>时间片轮转(Round-Robin，RR)调度算法</h3><p>专为分时系统设计，类似于 FCFS，但增加了抢占</p>
<p>时间片q （Time Quantum） ➢ 小单位的CPU时间，通常为 10~100毫秒</p>
<p>为每个进程分配不 超过一个时间片的 CPU。时间片用完后，该进程将被抢占并插入就绪队列末尾，循环执行</p>
<p>➢ 假定就绪队列中有n个 进程、时间片为q ➢ 则每个进程每次得到 1/n的、不超过q单位的 成块CPU时间 ➢ 没有任何一个进程等待 时间超过(n-1) q单位</p>
<p><strong>特性</strong> ➢ q 大–&gt; FCFS ➢ q 小–&gt; 增加上下文切换的时间</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426205343398.png" class title="image-20230426205343398">

<h4 id="时间片大小的确定"><a href="#时间片大小的确定" class="headerlink" title="时间片大小的确定"></a>时间片大小的确定</h4><h5 id="时间片设置应考虑"><a href="#时间片设置应考虑" class="headerlink" title="时间片设置应考虑"></a>时间片设置应考虑</h5><p>➢ 系统对响应时间的要求<br>➢ 就绪队列中进程的数目<br>➢ 系统的处理能力</p>
<p><strong>一般准则</strong>：时间片/10&gt;进程上下文切换时间</p>
<h3 id="多级队列调度算法"><a href="#多级队列调度算法" class="headerlink" title="多级队列调度算法"></a>多级队列调度算法</h3><p>就绪队列从一个分为多个，如：➢ 前台[交互式] ➢ 后台[批处理]</p>
<p>每个队列有自己的调度算法 ➢ 前台 – RR ➢ 后台 – FCFS</p>
<p>调度须在队列间进行<br><strong>➢ 固定优先级调度</strong>。即前台运行完后再运行后台，有可能产生饥饿。<br><strong>➢ 给定时间片调度</strong>。即每个队列得到一定的CPU时间，进程在给定时间内执行；如80%的时间执行前台的RR调度，20%的时间执行后台的FCFS调度</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426205718047.png" class title="image-20230426205718047">

<h5 id="进程能在不同的队列间移动"><a href="#进程能在不同的队列间移动" class="headerlink" title="进程能在不同的队列间移动"></a>进程能在不同的队列间移动</h5><h5 id="其他调度算法的局限性"><a href="#其他调度算法的局限性" class="headerlink" title="其他调度算法的局限性"></a>其他调度算法的局限性</h5><p>➢ 短进程优先的调度算法，仅照顾了短进程而忽略了长进程<br>➢ 如果并未指明进程的长度，则短进程优先和基于进程长度的抢占式调度算法都将无法使用。</p>
<h5 id="优点："><a href="#优点：" class="headerlink" title="优点："></a>优点：</h5><p>➢ 不必事先知道各种进程所需的执行时间；<br>➢ 可以满足各种类型进程的需要。</p>
<h5 id="多级反馈队列调度程序可由下列参数来定义"><a href="#多级反馈队列调度程序可由下列参数来定义" class="headerlink" title="多级反馈队列调度程序可由下列参数来定义"></a>多级反馈队列调度程序可由下列参数来定义</h5><p>队列数量<br>每个队列的调度算法<br>用以确定合适升级到更高优先级队列的方法<br>用以确定进程在需要服务时应进入哪个队列的方法<br>用以确定进程在需要服务时应进入哪个队列的方法</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426210103487.png" class title="image-20230426210103487">

<p><strong>例如，若一个进程总共需运行100个时间片</strong></p>
<ol>
<li>初始时指定它在优先级最高的进程组中，很快就会在CPU上运行一个时间片，之后优先级也降低一个级别</li>
<li>当它第二次有机会在CPU上运行时，它将运行2t</li>
<li>以后它将在CPU上运行的时间长度依次是4，8，16，32和64个t，最后一次运行时，只须64个t中37个 t 就可完成</li>
<li><strong>总共需调度7次</strong>。比较单纯的轮转法，节省了93次切换时间</li>
</ol>
<h4 id="多级反馈队列调度算法的性能"><a href="#多级反馈队列调度算法的性能" class="headerlink" title="多级反馈队列调度算法的性能"></a>多级反馈队列调度算法的性能</h4><ol>
<li><strong>终端型作业用户</strong><br> ◆ 在第一队列中完成，作业短，交互型；</li>
<li><strong>短批处理作业用户</strong><br> ◆ 周期时间较短，通常三个队列即可完成；</li>
<li><strong>长批处理作业用户</strong><br> ◆ 依次在前n个队列中执行，然后再按轮<br> 转方式运行。</li>
</ol>
<h3 id="基于公平原则的调度算法"><a href="#基于公平原则的调度算法" class="headerlink" title="基于公平原则的调度算法"></a>基于公平原则的调度算法</h3><p>主要考虑调度的公平性。</p>
<p><strong>保证调度算法：</strong><br>➢ <strong>性能保证</strong>，而非优先运行；<br>➢ 如保证处理机分配的公平性（处理机时间为1/n）。</p>
<p>公平分享调度算法：<br>➢ 调度的公平性主要<strong>针对用户而言</strong>；<br>➢ 使所有用户能获得相同的处理机时间或时间比例。</p>
<h2 id="实时调度"><a href="#实时调度" class="headerlink" title="实时调度"></a>实时调度</h2><p>实时调度是针对实时任务的调度<br>实时任务，都联系着一个截止时间<br>    ➢ 硬实时HRT任务<br>    ➢ 软实时SRT任务<br>实时调度应具备一定的条件</p>
<h3 id="实现实时调度的基本条件"><a href="#实现实时调度的基本条件" class="headerlink" title="实现实时调度的基本条件"></a>实现实时调度的基本条件</h3><h5 id="1-提供必要的信息（向调度程序提供）"><a href="#1-提供必要的信息（向调度程序提供）" class="headerlink" title="1. 提供必要的信息（向调度程序提供）"></a>1. 提供必要的信息（向调度程序提供）</h5><p>(1) 就绪时间<br>(2) 开始截止时间和完成截止时间<br>(3) 处理时间<br>(4) 资源要求<br>(5) 优先级</p>
<h5 id="2-系统处理能力强"><a href="#2-系统处理能力强" class="headerlink" title="2. 系统处理能力强"></a>2. 系统处理能力强</h5><p>⚫ 实时系统中通常都有着多个实时任务<br>⚫ 若处理机的处理能力不够强，则有可能因处理机忙不过来而使某些实时任务不得到及时处理， 从而导致发生难以预料的后果<br>⚫ 假定系统中有m个周期性的硬实时任务，它们的处理时间可表示为Ci，周期时间表示为Pi，则在单处理机情况下，必须满足下面的限制条件：<br><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -2.819ex;" xmlns="http://www.w3.org/2000/svg" width="11.145ex" height="6.354ex" role="img" focusable="false" viewbox="0 -1562.5 4926.2 2808.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="munderover"><g data-mml-node="mo"><path data-c="2211" d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z"/></g><g data-mml-node="TeXAtom" transform="translate(148.2,-1087.9) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(345,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mn" transform="translate(1123,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"/></g></g><g data-mml-node="TeXAtom" transform="translate(411.6,1150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"/></g></g></g><g data-mml-node="mfrac" transform="translate(1610.7,0)"><g data-mml-node="msub" transform="translate(220,676)"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"/></g><g data-mml-node="mi" transform="translate(748,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g></g><g data-mml-node="msub" transform="translate(256.5,-686)"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"/></g><g data-mml-node="mi" transform="translate(675,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g></g><rect width="1242" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(3370.4,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"/></g><g data-mml-node="mn" transform="translate(4426.2,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"/></g></g></g></svg></mjx-container></p>
<h5 id="3-采用抢占式调度机制"><a href="#3-采用抢占式调度机制" class="headerlink" title="3. 采用抢占式调度机制"></a>3. 采用抢占式调度机制</h5><p>⚫ 当一个优先权更高的任务到达时，允许将当前任务暂时挂起，而<strong>令高优先权任务立即投入运行</strong>，这样便可满足该硬实时任务对截止时间的要求。<strong>这种调度机制比较复杂</strong><br>⚫ 对于一些小的实时系统，如果能<strong>预知</strong>任务的开始截止时间，则对实时任务的调度<strong>可采用非抢占调度</strong>机制，<strong>简化</strong>调度程序和对任务调度时所花费的系统开销。<br>        但在设计这种调度机制时，<strong>应使所有的实时任务都比较小</strong>，并在执行完关键性程序和临界区后，能及时地<strong>将自己阻塞起来</strong>，以便释放出处理机，供调度程序去调度那种开始截止时间即将到达的任</p>
<h5 id="4-具有快速切换机制"><a href="#4-具有快速切换机制" class="headerlink" title="4. 具有快速切换机制"></a>4. 具有快速切换机制</h5><p>⚫ <strong>对中断的快速响应能力。</strong>对紧迫的外部事件请求中断能及时响应，要求系统具有快速硬件中断机构，还应使禁止中断的时间间隔尽量短，以免耽误时机(其它紧迫任务)<br>⚫ <strong>快速的任务分派能力。</strong>为了提高分派程序进行任务切换时的速度，应使系统中的每个运行功能单位适当的小，以减少任务切换的时间开销</p>
<h3 id="实时调度算法"><a href="#实时调度算法" class="headerlink" title="实时调度算法"></a>实时调度算法</h3><p>根据实时任务性质<br>◼ HRT调度算法<br>◼ SRT调度算法</p>
<p>根据调度方式<br>◼ 非抢占式调度算法<br>◼ 抢占式调度算法</p>
<h4 id="非抢占式调度算法"><a href="#非抢占式调度算法" class="headerlink" title="非抢占式调度算法"></a>非抢占式调度算法</h4><p><strong>非抢占式轮转调度算法</strong><br>◼ 响应时间：数秒至数十秒<br>◼ 可用于要求不太严格的实时控制系统</p>
<p><strong>非抢占式优先调度算法</strong><br>◼ 响应时间：数秒至数百毫秒<br>◼ 可用于有一定要求的实时控制系统</p>
<h4 id="抢占式调度算法"><a href="#抢占式调度算法" class="headerlink" title="抢占式调度算法"></a>抢占式调度算法</h4><p><strong>基于时钟中断的抢占式优先级调度</strong><br>➢ 响应时间：几十毫秒至几毫秒<br>➢ 可用于大多数实时系统</p>
<p><strong>基于时钟中断的抢占式优先级调度</strong><br>➢ 响应时间：几十毫秒至几毫秒<br>➢ 可用于大多数实时系统</p>
<h4 id="最早截止时间优先-EDF-调度算法"><a href="#最早截止时间优先-EDF-调度算法" class="headerlink" title="最早截止时间优先(EDF)调度算法"></a>最早截止时间优先(EDF)调度算法</h4><p>EDF根据任务的截止时间确定优先级，截止时间越早，优先级越高<br><strong>既可用于抢占式调度，也可用于非抢占式调度</strong><br>EDF根据任务的截止时间确定优先级，截止时间越早，优先级越高<br>既可用于抢占式调度，也可用于非抢占式调度</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426211608725.png" class title="image-20230426211608725">

<p><strong>抢占式EDF例子</strong></p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426211625154.png" class title="image-20230426211625154">

<h4 id="最低松弛度优先LLF算法"><a href="#最低松弛度优先LLF算法" class="headerlink" title="最低松弛度优先LLF算法"></a>最低松弛度优先LLF算法</h4><p>根据任务的紧急程度（<strong>松弛度</strong>）确定任务优先级</p>
<p>➢ 紧急程度越高（松弛度越低），优先级越高<br><strong>➢ 松弛度=必须完成时间－其本身的运行时间－当前时间</strong></p>
<p>主要用在抢占式调度方式中</p>
<p>例子：➢ 两个周期性实时任务A和B，任务A要求每20 ms执行一次，执行时间 为10 ms，任务B要求每50 ms执行一次，执行时间为25 m</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426211720425.png" class title="image-20230426211720425">

<h4 id="优先级倒置现象"><a href="#优先级倒置现象" class="headerlink" title="优先级倒置现象"></a>优先级倒置现象</h4><p>采用优先级调度和抢占方式，可能产生<strong>优先级倒置</strong>。现象：高优先级进程 被低优先级进程延迟或阻塞。</p>
<h5 id="解决方法："><a href="#解决方法：" class="headerlink" title="解决方法："></a>解决方法：</h5><p>➢ 制定一些规定，如规定低优先级进程执行后，其所占用的处理机不允许被抢占；<br>➢ 建立动态优先级继承</p>
<h2 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h2><p>死锁（Deadlock）：指多个进程在运行过程中因争夺资源而造成的一种僵 局，当进程处于这种僵持状态时，若无外力作用，这些进程都将永远不能再向 前推进</p>
<h4 id="可重用性资源和可消耗性资源"><a href="#可重用性资源和可消耗性资源" class="headerlink" title="可重用性资源和可消耗性资源"></a>可重用性资源和可消耗性资源</h4><p>➢ 可重用性资源：一次只能分配给一个进程，不允许多个进程共享，遵循：<br>    ➢ 请求资源 - 使用资源 - 释放资源 （大部分资源）。<br>➢ 可消耗性资源：由进程动态创建和消耗 （进程间通信的消息）。</p>
<h4 id="可抢占性和不可抢占性资源"><a href="#可抢占性和不可抢占性资源" class="headerlink" title="可抢占性和不可抢占性资源"></a>可抢占性和不可抢占性资源</h4><p>➢ 可抢占性资源：某进程在获得这类资源后，该资源可以再被其他进程或系统抢占，<strong>CPU（处理机）和主存区。</strong><br>➢ 不可抢占资源：当系统把这类资源分配给某进程后，再不能强行收回，只能在进程用完后自行释放，<strong>打印机、磁带机。</strong></p>
<h3 id="死锁原因"><a href="#死锁原因" class="headerlink" title="死锁原因"></a>死锁原因</h3><h5 id="竞争不可抢占性资源引起死锁"><a href="#竞争不可抢占性资源引起死锁" class="headerlink" title="竞争不可抢占性资源引起死锁"></a>竞争不可抢占性资源引起死锁</h5><p>➢ 系统中的不可抢占性资源，由于它们的数量不能满足诸进程运行的需 要，会使进程在运行过程中，因争夺这些资源而陷入僵局。</p>
<h5 id="竞争可消耗性资源引起死锁"><a href="#竞争可消耗性资源引起死锁" class="headerlink" title="竞争可消耗性资源引起死锁"></a>竞争可消耗性资源引起死锁</h5><p>➢ <strong>临时性资源</strong>，是指由一个进程产生，被另一个进程使用一短暂时间后便无用的资源，故也称之为<strong>消耗性资源</strong>，它也<strong>可能</strong>引起死锁</p>
<h5 id="进程推进顺序不当引起死锁"><a href="#进程推进顺序不当引起死锁" class="headerlink" title="进程推进顺序不当引起死锁"></a>进程推进顺序不当引起死锁</h5><p>➢ 进程推进顺序合法<br>➢ 进程推进顺序非法</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426212123772.png" class title="image-20230426212123772">

<h3 id="死锁定义"><a href="#死锁定义" class="headerlink" title="死锁定义"></a>死锁定义</h3><p>死锁：一组等待的进程，其中每一个进程都持有资源，并且等待着由 这个组中其他进程所持有的资源。</p>
<p>如果一个进程集合中的每个进程都在等待只能由该组进程中的其他进 程才能引发的事件，那么，该组进程是死锁的。</p>
<h4 id="产生死锁的必要条件"><a href="#产生死锁的必要条件" class="headerlink" title="产生死锁的必要条件"></a>产生死锁的必要条件</h4><p><strong>互斥</strong> ➢ 一段时间内某资源只能被一个进程占用。</p>
<p><strong>请求和保持</strong> ➢ 一个至少持有一个资源的进程等待获得额外的由其他进程所持有的资源。</p>
<p><strong>不可抢占</strong> ➢ 一个资源只有当持有它的进程完成任务后才释放。</p>
<p><strong>循环等待</strong> </p>
<p>➢ 等待资源的进程之间存在环 {P0, P1, …, Pn} 。<br>➢ P0 等待P1占有的资源, P1等待P2占有的资源, …, Pn–1等待Pn占有的资源, P0等待Pn占有的资源</p>
<h4 id="资源分配图"><a href="#资源分配图" class="headerlink" title="资源分配图"></a>资源分配图</h4><p>略…（懒…）</p>
<h3 id="处理死锁的方法"><a href="#处理死锁的方法" class="headerlink" title="处理死锁的方法"></a>处理死锁的方法</h3><h5 id="确保系统永远不会进入死锁状态"><a href="#确保系统永远不会进入死锁状态" class="headerlink" title="确保系统永远不会进入死锁状态"></a>确保系统永远不会进入死锁状态</h5><p>➢ 死锁预防<br>➢ 死锁避免</p>
<h5 id="允许系统进入死锁状态，然后恢复系统"><a href="#允许系统进入死锁状态，然后恢复系统" class="headerlink" title="允许系统进入死锁状态，然后恢复系统"></a>允许系统进入死锁状态，然后恢复系统</h5><p>➢ 死锁检测<br>➢ 死锁恢复</p>
<h5 id="忽略这个问题，假装系统中从未出现过死锁。这个方法被大部分的操作系统采用，包括UNIX"><a href="#忽略这个问题，假装系统中从未出现过死锁。这个方法被大部分的操作系统采用，包括UNIX" class="headerlink" title="忽略这个问题，假装系统中从未出现过死锁。这个方法被大部分的操作系统采用，包括UNIX"></a>忽略这个问题，假装系统中从未出现过死锁。这个方法被大部分的操作系统采用，包括UNIX</h5><h5 id="预防死锁"><a href="#预防死锁" class="headerlink" title="预防死锁"></a>预防死锁</h5><p>➢ 破坏死锁的四个必要条件中一个或几个。</p>
<h5 id="避免死锁"><a href="#避免死锁" class="headerlink" title="避免死锁"></a>避免死锁</h5><p>➢ 在资源动态分配时，防止系统进入不安全状态。</p>
<h5 id="检测死锁"><a href="#检测死锁" class="headerlink" title="检测死锁"></a>检测死锁</h5><p>➢ 事先不采取任何措施，允许死锁发生，但及时检测死锁发生。</p>
<h5 id="解除死锁"><a href="#解除死锁" class="headerlink" title="解除死锁"></a>解除死锁</h5><p>➢ 检测到死锁发生时，采取相应措施，将进程从死锁状态中解脱出来。</p>
<h3 id="预防死锁-1"><a href="#预防死锁-1" class="headerlink" title="预防死锁"></a>预防死锁</h3><p>破坏死锁的四个必要条件中的一个或几个</p>
<p><strong>互斥</strong>：互斥条件是共享资源必须的，不仅不能改变，还应加以保证</p>
<p><strong>请求和保持</strong>：必须保证进程申请资源的时候没有占有其他资源<br>➢ 要求进程在执行前一次性申请全部的资源，只有没有占有资源时才可以分配资源<br>➢ 资源利用率低，可能出现饥饿</p>
<p><strong>非抢占：</strong><br>➢ 如果一个进程的申请没有实现，它要释放所有占有的资源；<br>➢ 先占的资源放入进程等待资源列表中；<br>➢ 进程在重新得到旧的资源的时候可以重新开始。</p>
<p><strong>循环等待</strong>：对所有的资源类型排序进行线性排序，并赋予不同的序 号，要求进程按照递增顺序申请资源。<br>➢ 如何规定每种资源的序号是十分重要的；<br>➢ 限制新类型设备的增加；<br>➢ 作业使用资源的顺序与系统规定的顺序不同；<br>➢ 限制用户简单、自主的编程。</p>
<h3 id="避免死锁-1"><a href="#避免死锁-1" class="headerlink" title="避免死锁"></a>避免死锁</h3><h5 id="预防和避免的差别是什么？"><a href="#预防和避免的差别是什么？" class="headerlink" title="预防和避免的差别是什么？"></a>预防和避免的差别是什么？</h5><ol>
<li>死锁 → 四个必要条件</li>
<li>(4个必要条件)→(死锁)</li>
<li>4个必要条件 → 死锁 (不一定)</li>
<li>死锁防止是严格破坏4个必要条件之一，一定不出现死锁；而<strong>死锁的避免是不那么严格地限制死锁必要条件的存在</strong>，其目的是提高系统的资源利用率。万一当死锁有<strong>可能</strong>出现时，就<strong>小心避免</strong>这种情况的发生。</li>
</ol>
<p>需要附加先验信息：<br>设一个简单而有效的模型，要求每一个进程声明它所需要的资源的最大数。</p>
<p><strong>死锁避免算法</strong>动态检查资源分配状态以确保不会出现循环等待的情况。</p>
<p>资源分配状态定义为可用的与已分配的资源数，和进程所需的最大资源量。</p>
<h4 id="安全状态"><a href="#安全状态" class="headerlink" title="安全状态"></a>安全状态</h4><p>➢ 当进程申请一个有效的资源的时候，系统必须确定分配后是安全的。<br><strong>➢ 如果存在一个安全序列，则系统处于安全态。</strong><br>➢ 进程序列&lt;P1, P2, …, Pn&gt;是安全的，如果每一个进程Pi所申请的可以被满足<br>的资源数加上其他进程所持有的该资源数小于系统总数。<br>        ⚫ 如果 Pi 需要的资源不能马上获得，那么Pi 等待直到所有的Pi-1进程结束。<br>        ⚫ 当Pi-1 结束后， Pi获得所需的资源，执行、返回资源、结束。<br>        ⚫ 当Pi结束后， Pi+1获得所需的资源执行，依此类推。</p>
<p>如果一个系统在安全状态，就没有死锁<br>如果一个系统不是处于安全状态，就有可能死锁<br><strong>死锁避免 –&gt; 确保系统永远不会进入不安全状态</strong></p>
<h4 id="银行家算法"><a href="#银行家算法" class="headerlink" title="银行家算法"></a>银行家算法</h4><p>➢ 针对资源有多个实例<br>➢ 每一个进程必须事先声明使用的最大量<br>➢ 当一个进程请求资源，它可能要等待<br>➢ 当一个进程得到所有的资源，它必须在有限的时间释放它们</p>
<h5 id="银行家算法的数据结构"><a href="#银行家算法的数据结构" class="headerlink" title="银行家算法的数据结构"></a><strong>银行家算法的数据结构</strong></h5><p><strong>n为进程的数目， m为资源类型的数目</strong></p>
<p><strong>Available</strong>: 长度为 m的向量。 如果available[j]=k,那么资源Rj有k个实例有效<br><strong>Max</strong>: n x m 矩阵。 如果Max[i,j]=k,那么进程Pi可以<strong>最多请求</strong>资源Rj的k个实例<br><strong>Allocation</strong>: n x m 矩阵。 如果Allocation[i,j]=k,那么进程Pj当前<strong>分配</strong>了k个资源Rj的实例<br><strong>Need</strong>: n x m 矩阵。如果Need[i,j]=k,那么进程Pj还需要k个资源Rj的实例<br><strong>Need [i,j] = Max[i,j] – Allocation [i,j]</strong></p>
<h5 id="安全性算法"><a href="#安全性算法" class="headerlink" title="安全性算法"></a>安全性算法</h5><p>让Work和Finish作为长度为m和n的向量初始化<br>        Work := Available<br>        Finish [i] = false for i - 1,3, …, n.</p>
<p>查找i<br>        (a) Finish [i] = false<br>        (b) Need[i,j] ≤ Work[j]<br>        If no such i exists, go to step ④.</p>
<p>Work := Work + Allocationi<br>        Finish[i] := true<br>        go to step ②.</p>
<p>如果对所有i的 Finish [i] = true, 则系统处在安全状态</p>
<p><strong>Requesti =进程 Pi 的资源请求向量</strong>， 如果Requesti [m] = k 则进程 Pi 想要资源 类型为Rjm的k个实例</p>
<p>① 如果 Requesti ≤ Needi 转 step 2. 否则报错, 因为进程请求超出了其声明的最大值<br>② 如果 Requesti ≤ Available, 转 step 3. 否则 Pi 必须等待, 因为资源不可用<br>③ 假设通过修改下列状态来试着分配请求的资源给进程Pi</p>
<p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex;" xmlns="http://www.w3.org/2000/svg" width="33.873ex" height="2.059ex" role="img" focusable="false" viewbox="0 -716 14972 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"/></g><g data-mml-node="mi" transform="translate(750,0)"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"/></g><g data-mml-node="mi" transform="translate(1235,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"/></g><g data-mml-node="mi" transform="translate(1764,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(2109,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g><g data-mml-node="mi" transform="translate(2407,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"/></g><g data-mml-node="mi" transform="translate(2936,0)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"/></g><g data-mml-node="mi" transform="translate(3365,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g><g data-mml-node="mi" transform="translate(3663,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"/></g><g data-mml-node="mo" transform="translate(4406.8,0)"><g data-mml-node="text"><path data-c="3A" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z"/></g><g data-mml-node="text" transform="translate(278,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/></g></g><g data-mml-node="mi" transform="translate(5740.6,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"/></g><g data-mml-node="mi" transform="translate(6490.6,0)"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"/></g><g data-mml-node="mi" transform="translate(6975.6,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"/></g><g data-mml-node="mi" transform="translate(7504.6,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(7849.6,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g><g data-mml-node="mi" transform="translate(8147.6,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"/></g><g data-mml-node="mi" transform="translate(8676.6,0)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"/></g><g data-mml-node="mi" transform="translate(9105.6,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g><g data-mml-node="mi" transform="translate(9403.6,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"/></g><g data-mml-node="mo" transform="translate(10091.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mi" transform="translate(11092,0)"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"/></g><g data-mml-node="mi" transform="translate(11851,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"/></g><g data-mml-node="mi" transform="translate(12317,0)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"/></g><g data-mml-node="mi" transform="translate(12777,0)"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(13349,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"/></g><g data-mml-node="mi" transform="translate(13815,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"/></g><g data-mml-node="msub" transform="translate(14284,0)"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"/></g><g data-mml-node="mi" transform="translate(394,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g></g></g></g></svg></mjx-container>;<br><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex;" xmlns="http://www.w3.org/2000/svg" width="38.821ex" height="2.059ex" role="img" focusable="false" viewbox="0 -716 17158.9 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"/></g><g data-mml-node="mi" transform="translate(750,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g><g data-mml-node="mi" transform="translate(1048,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g><g data-mml-node="mi" transform="translate(1346,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"/></g><g data-mml-node="mi" transform="translate(1831,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"/></g><g data-mml-node="mi" transform="translate(2264,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"/></g><g data-mml-node="mi" transform="translate(2793,0)"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"/></g><g data-mml-node="mi" transform="translate(3154,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(3499,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"/></g><g data-mml-node="mi" transform="translate(3984,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="msub" transform="translate(4584,0)"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(378,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g></g><g data-mml-node="mo" transform="translate(5533.7,0)"><g data-mml-node="text"><path data-c="3A" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z"/></g><g data-mml-node="text" transform="translate(278,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/></g></g><g data-mml-node="mi" transform="translate(6867.5,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"/></g><g data-mml-node="mi" transform="translate(7617.5,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g><g data-mml-node="mi" transform="translate(7915.5,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g><g data-mml-node="mi" transform="translate(8213.5,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"/></g><g data-mml-node="mi" transform="translate(8698.5,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"/></g><g data-mml-node="mi" transform="translate(9131.5,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"/></g><g data-mml-node="mi" transform="translate(9660.5,0)"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"/></g><g data-mml-node="mi" transform="translate(10021.5,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(10366.5,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"/></g><g data-mml-node="msub" transform="translate(10851.5,0)"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(633,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g></g><g data-mml-node="mo" transform="translate(12000.7,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mi" transform="translate(13000.9,0)"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"/></g><g data-mml-node="mi" transform="translate(13759.9,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"/></g><g data-mml-node="mi" transform="translate(14225.9,0)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"/></g><g data-mml-node="mi" transform="translate(14685.9,0)"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(15257.9,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"/></g><g data-mml-node="mi" transform="translate(15723.9,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"/></g><g data-mml-node="msub" transform="translate(16192.9,0)"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"/></g><g data-mml-node="mi" transform="translate(394,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g></g><g data-mml-node="mo" transform="translate(16880.9,0)"><path data-c="3B" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z"/></g></g></g></svg></mjx-container><br><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex;" xmlns="http://www.w3.org/2000/svg" width="25.623ex" height="2.009ex" role="img" focusable="false" viewbox="0 -694 11325.4 888"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(888,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"/></g><g data-mml-node="mi" transform="translate(1354,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"/></g><g data-mml-node="msub" transform="translate(1820,0)"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"/></g><g data-mml-node="mi" transform="translate(553,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g></g><g data-mml-node="mo" transform="translate(2944.7,0)"><g data-mml-node="text"><path data-c="3A" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z"/></g><g data-mml-node="text" transform="translate(278,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/></g></g><g data-mml-node="mi" transform="translate(4278.5,0)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(5166.5,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"/></g><g data-mml-node="mi" transform="translate(5632.5,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"/></g><g data-mml-node="msub" transform="translate(6098.5,0)"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"/></g><g data-mml-node="mi" transform="translate(553,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(6945.5,0)"><g data-mml-node="mo"><path data-c="2013" d="M0 248V285H499V248H0Z"/></g></g><g data-mml-node="mi" transform="translate(7445.5,0)"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"/></g><g data-mml-node="mi" transform="translate(8204.5,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"/></g><g data-mml-node="mi" transform="translate(8670.5,0)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"/></g><g data-mml-node="mi" transform="translate(9130.5,0)"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(9702.5,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"/></g><g data-mml-node="mi" transform="translate(10168.5,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"/></g><g data-mml-node="msub" transform="translate(10637.5,0)"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"/></g><g data-mml-node="mi" transform="translate(394,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g></g></g></g></svg></mjx-container></p>
<p>④ 系统执行安全性算法<br>◼ 如果系统安全 –&gt; 将资源分配给 Pi<br>◼ 如果系统不安全 –&gt; Pi 必须等待，恢复原有的资源分配状态</p>
<h3 id="死锁的检测和解除"><a href="#死锁的检测和解除" class="headerlink" title="死锁的检测和解除"></a>死锁的检测和解除</h3><p>当系统为进程分配资源时，若未采取任何限制性措施，则系统必须提供检测和解除死锁的手段。为此，系统必须：<br>    保存有关资源的请求和分配信息；<br>    提供一种算法，以利用这些信息来检测系统是否已进入死锁状态。</p>
<h5 id="死锁定理"><a href="#死锁定理" class="headerlink" title="死锁定理"></a>死锁定理</h5><p>对于较复杂的资源分配图，可能有 多个既未阻塞、又非孤立的进程结 点，不同的简化顺序，是否会得到 不同的简化图？有关文献已经证明， <strong>所有的简化顺序，都将得到相同的不可简化图。</strong></p>
<p>S为死锁状态的充分条件是：<u>当且仅 当S状态的资源分配图是不可完全简 化的。该充分条件称为<strong>死锁定理</strong></u>。</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230426214031286.png" class title="image-20230426214031286">

<h4 id="死锁的解除"><a href="#死锁的解除" class="headerlink" title="死锁的解除"></a>死锁的解除</h4><p><strong>抢占资源</strong>。从一个或多个进程中抢占足够数量的资源给死锁进程， 以解除死锁状态</p>
<p><strong>终止或撤消进程</strong>。终止系统中一个或多个死锁进程，直到打破循环 环路，使死锁状态消除为止。<br>➢终止所有死锁进程（最简单方法）<br>➢逐个终止进程（稍温和方法）</p>
<h4 id="进程终止"><a href="#进程终止" class="headerlink" title="进程终止"></a>进程终止</h4><p>中断所有的死锁进程。<br>一次中断一个进程，直到死锁环消失。<br>应该选择怎样的中断顺序，使“<strong>代价最小</strong>”？<br>        ➢ 进程的优先级；<br>        ➢ 进程需要计算多长时间，以及需要多长时间结束；<br>        ➢ 进程使用的资源，进程完成还需要多少资源；<br>        ➢ 进程是交互的还是批处理的。</p>
<h1 id="4-进程同步"><a href="#4-进程同步" class="headerlink" title="4 进程同步"></a>4 进程同步</h1><h2 id="软件同步机制——Peterson算法"><a href="#软件同步机制——Peterson算法" class="headerlink" title="软件同步机制——Peterson算法"></a>软件同步机制——Peterson算法</h2><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>{</span><br><span class="line">    flag[i] = TRUE;</span><br><span class="line">    turn = j;</span><br><span class="line">    <span class="keyword">while</span>(flag[j] &amp;&amp; turn == j);</span><br><span class="line">    CRITICAL SECTION;</span><br><span class="line">    flag[i] = FALSE;</span><br><span class="line">    remainder section;</span><br><span class="line">}<span class="keyword">while</span>(TRUE);</span><br></pre></td></tr></table></figure></div>

<p>Perterson算法可以实现空闲让进、忙则等待、有限等待，但是无法实现让权等待</p>
<h2 id="硬件同步机制"><a href="#硬件同步机制" class="headerlink" title="硬件同步机制"></a>硬件同步机制</h2><h3 id="锁"><a href="#锁" class="headerlink" title="锁"></a>锁</h3><img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502133543747.png" class title="image-20230502133543747">

<h5 id="关中断"><a href="#关中断" class="headerlink" title="关中断"></a>关中断</h5><p>➢进入锁测试之前关闭中断，完成锁测试并上锁之后才打开中断<br>➢可有效保证互斥，但存在许多缺点</p>
<h5 id="Test-and-Set指令"><a href="#Test-and-Set指令" class="headerlink" title="Test-and-Set指令"></a>Test-and-Set指令</h5><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">boolean <span class="title function_">TestAndSet</span><span class="params">(Boolean *lock)</span> </span><br><span class="line">{</span><br><span class="line">	boolean old = *lock;</span><br><span class="line">	*lock = TRUE;</span><br><span class="line">	<span class="keyword">return</span> old;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<p>➢ 共享数据:  boolean lock = FALSE;</p>
<p>➢ 进程</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502133802280.png" class title="image-20230502133802280">

<h5 id="Swap指令"><a href="#Swap指令" class="headerlink" title="Swap指令"></a>Swap指令</h5><p>➢ 原子地交换两个变量</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Swap</span><span class="params">(boolean *a, boolean *b)</span> {</span><br><span class="line">	boolean temp = *a;</span><br><span class="line">	*a = *b;</span><br><span class="line">	*b = temp;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<p>➢ 共享数据 (初始化为 false): boolean lock;</p>
<p>➢ 进程</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502133849478.png" class title="image-20230502133849478">

<p><strong>Test-and-Set和Swap都是原子操作</strong></p>
<h2 id="信号量机制"><a href="#信号量机制" class="headerlink" title="信号量机制"></a>信号量机制</h2><p><strong>信号量-软件解决方案：</strong><br>➢ 保证两个或多个代码段不被并发调用<br>➢ 在进入关键代码段前，进程必须获取一个信号量，否则<br>不能运行<br>➢ 执行完该关键代码段，必须释放信号量<br>➢ 信号量有值，为正说明它空闲，为负说明其忙碌</p>
<p><strong>类型（发展）</strong><br>➢ 整型信号量  <strong>➢ 记录型信号量</strong>  ➢ AND型信号量  ➢ 信号量集</p>
<h3 id="整形信号量"><a href="#整形信号量" class="headerlink" title="整形信号量"></a>整形信号量</h3><p>➢ 信号量<strong>S</strong>-整型变量<br>➢ 提供两个不可分割的[原子操作]访问信号量</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wait(S)：</span><br><span class="line">	<span class="keyword">while</span> S&lt;=<span class="number">0</span> ; <span class="comment">/*do no-op*/</span></span><br><span class="line">	S:=S<span class="number">-1</span>;</span><br><span class="line">signal(S)：</span><br><span class="line">	S:=S+<span class="number">1</span>;</span><br></pre></td></tr></table></figure></div>

<p>➢ Wait(s)又称为P(S)<br>➢ Signal(s)又称为V(S)<br><strong>➢ 缺点：进程忙等</strong></p>
<h3 id="记录型信号量-去除忙等的信号量"><a href="#记录型信号量-去除忙等的信号量" class="headerlink" title="记录型信号量:去除忙等的信号量"></a>记录型信号量:去除忙等的信号量</h3><p>每个信号量S除一个<strong>整数值</strong>S.value外，还有一个<strong>进程等待队列</strong>S.list，存放阻塞在该信号量的各个进程PCB</p>
<p>➢ 信号量只能通过<strong>初始化</strong>和<strong>两个标准的原语PV</strong>来访问－－作为OS核心代码执行，<strong>不受进程调度的打断</strong><br>➢ <strong>初始化</strong>指定一个非负整数值，表示<strong>空闲资源总数</strong>（又称为”资源信号量”）－－若为非负值<strong>表示当前的空闲资源数</strong>，若为负值其<strong>绝对值</strong>表示<strong>当前等待临界区的进程数</strong></p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> {</span></span><br><span class="line">	<span class="type">int</span> value;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">process_control_block</span> *<span class="title">list</span>;</span></span><br><span class="line">}semaphore;</span><br></pre></td></tr></table></figure></div>

<h4 id="wait、signal操作定义"><a href="#wait、signal操作定义" class="headerlink" title="wait、signal操作定义"></a>wait、signal操作定义</h4><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">wait(semaphores *S) { <span class="comment">//请求一个单位的资源</span></span><br><span class="line">	S-&gt;value --; <span class="comment">//资源减少一个</span></span><br><span class="line">	<span class="keyword">if</span> (S-&gt;value&lt;<span class="number">0</span>) block(S-&gt;<span class="built_in">list</span>) <span class="comment">//进程自我阻塞</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">signal(semaphores *S) <span class="comment">//释放一个单位资源</span></span><br><span class="line">{</span><br><span class="line">	S-&gt;value++; <span class="comment">//资源增加一个</span></span><br><span class="line">	<span class="keyword">if</span> (S-&gt;value&lt;=<span class="number">0</span>) wakeup(S-&gt;<span class="built_in">list</span>); <span class="comment">//唤醒等待队列中的一个进程</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<h3 id="AND型信号量"><a href="#AND型信号量" class="headerlink" title="AND型信号量"></a>AND型信号量</h3><p>AND型信号量同步的基本思想：将进程在整个 运行过程中需要的所有资源，一次性全部分配给 进程，待进程使用完后再一起释放。</p>
<p>对若干个临界资源的分配，采用原子操作。</p>
<p>在wait(S)操作中增加了一个“AND”条件，故称 之为AND同步，或同时wait(S)操作，即 Swait(Simultaneous wait)。</p>
<h4 id="AND型信号量操作定义"><a href="#AND型信号量操作定义" class="headerlink" title="AND型信号量操作定义"></a>AND型信号量操作定义</h4><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Swait(S1，S2，…，Sn) {</span><br><span class="line">	<span class="keyword">while</span> (TRUE) {</span><br><span class="line">		<span class="keyword">if</span> (Si&gt;=<span class="number">1</span> &amp;&amp; … &amp;&amp; Sn&gt;=<span class="number">1</span>) {</span><br><span class="line">			<span class="keyword">for</span> (i =<span class="number">1</span>;i&lt;=n;i++) Si--;；</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span> {</span><br><span class="line">	place the process in the waiting <span class="built_in">queue</span> associated with the first Si found with Si&lt;<span class="number">1</span>，and <span class="built_in">set</span> the program count of this process to the beginning of Swait operation</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Ssignal(S1，S2，…，Sn) {</span><br><span class="line">	<span class="keyword">while</span> (TRUE) {</span><br><span class="line">		<span class="keyword">for</span> (i=<span class="number">1</span> ; i&lt;=n;i++) {</span><br><span class="line">			Si++；</span><br><span class="line">		Remove all the process waiting in the <span class="built_in">queue</span> associated with Si into the ready <span class="built_in">queue</span>.</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<h3 id="信号量集"><a href="#信号量集" class="headerlink" title="信号量集"></a>信号量集</h3><p>在记录型信号量中，wait或signal仅能对某类临界资源进行<strong>一个单位的申请和释放</strong>，当需要对N个单位进行操作时，需要N次wait/signal操作，<strong>效率低下</strong></p>
<p>扩充AND信号量：对进程所申请的所有资源以及每类资源不同的资源需求量，在一次P、V原语操作中完成申请或释放<br>➢ 进程对信号量Si的测试值是该资源的分配下限值ti，即要求Si≥ti，否则不予分配。一旦允许分配，进程对该资源的需求值为di，即表示资源占用量，进行Si= Si-di操作<br>➢ Swait(S1，t1，d1，…，Sn，tn，dn)<br>➢ Ssignal(S1，d1，…，Sn，dn)</p>
<h3 id="信号量的应用"><a href="#信号量的应用" class="headerlink" title="信号量的应用"></a>信号量的应用</h3><h5 id="利用信号量实现进程互斥"><a href="#利用信号量实现进程互斥" class="headerlink" title="利用信号量实现进程互斥"></a>利用信号量实现<u>进程互斥</u></h5><p>设置互斥信号量(mutex)</p>
<h5 id="利用信号量实现前驱关系"><a href="#利用信号量实现前驱关系" class="headerlink" title="利用信号量实现前驱关系"></a>利用信号量实现<u>前驱关系</u></h5><h5 id="利用信号量实现进程同步"><a href="#利用信号量实现进程同步" class="headerlink" title="利用信号量实现进程同步"></a>利用信号量实现<u>进程同步</u></h5><p>设置同步信号量</p>
<h4 id="利用信号量实现进程互斥-1"><a href="#利用信号量实现进程互斥-1" class="headerlink" title="利用信号量实现进程互斥"></a>利用信号量实现进程互斥</h4><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">semaphore mutex; </span><br><span class="line">    mutex=<span class="number">1</span>; <span class="comment">// 初始化为1</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>) {</span><br><span class="line">    wait(mutex);</span><br><span class="line">    临界区；</span><br><span class="line">    signal(mutex);</span><br><span class="line">    剩余区；</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<h4 id="利用信号量实现进程同步-1"><a href="#利用信号量实现进程同步-1" class="headerlink" title="利用信号量实现进程同步"></a>利用信号量实现进程同步</h4><p>➢ 实现各种同步问题<br>➢ 例子：P1和 P2 需要代码段 C1 比C2先运行<br>semaphores s=0; //主要用于传递消息</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">P1()</span><br><span class="line">{</span><br><span class="line">    C1;</span><br><span class="line">    signal(s);</span><br><span class="line">    …</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">P2()</span><br><span class="line">{</span><br><span class="line">    …</span><br><span class="line">    wait(s); </span><br><span class="line">    C2;</span><br><span class="line">}	</span><br></pre></td></tr></table></figure></div>

<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502135000958.png" class title="image-20230502135000958">

<h4 id="利用信号量实现前趋关系"><a href="#利用信号量实现前趋关系" class="headerlink" title="利用信号量实现前趋关系"></a>利用信号量实现前趋关系</h4><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">main(){</span><br><span class="line">    Semaphore a,b,c,d,e,f,g; </span><br><span class="line">    a.value=<span class="number">0</span>;b.value=<span class="number">0</span>;c.value=<span class="number">0</span>;</span><br><span class="line">    d.value=<span class="number">0</span>;e.value=<span class="number">0</span>;f.value=<span class="number">0</span>;g.value=<span class="number">0</span>;</span><br><span class="line">    cobegin</span><br><span class="line">        { S1;signal(a);signal(b); }</span><br><span class="line">        { wait(a);S2;signal(c) ;signal(d);}</span><br><span class="line">        { wait(b);S3;signal(e); }</span><br><span class="line">        { wait(c);S4;signal(f); }</span><br><span class="line">        { wait(d);S5;signal(g); }</span><br><span class="line">        { wait(e);wait(f);wait(g);S6; }</span><br><span class="line">	coend</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502135045547.png" class title="image-20230502135045547">

<h2 id="管程机制"><a href="#管程机制" class="headerlink" title="管程机制"></a>管程机制</h2><h4 id="信号量机制的问题"><a href="#信号量机制的问题" class="headerlink" title="信号量机制的问题"></a>信号量机制的问题</h4><p>➢需要程序员实现，编程困难<br>➢维护困难<br>➢容易出错<br>⚫ wait/signal位置错<br>⚫ wait/signal不配对</p>
<p><strong>解决方法</strong> ➢由编程语言解决同步互斥问题 ➢管程（1970s, Hoare和 Hansen）</p>
<p>信号量：<strong>分散式</strong><br>管 程：<strong>集中式</strong></p>
<h3 id="管程定义"><a href="#管程定义" class="headerlink" title="管程定义"></a>管程定义</h3><p>➢ 一个管程定义了一个<strong>数据结构</strong>和能为并发进程所执行（在该数据结构上）的<strong>一组操作</strong>，这组操作能<strong>同步进程和改变管程中的数据</strong></p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502135259129.png" class title="image-20230502135259129">

<p>语法描述如下：</p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Monitor monitor_name { <span class="comment">/*管程名*/</span></span><br><span class="line">    share variable declarations； <span class="comment">/*共享变量说明*/</span></span><br><span class="line">    condition declarations； <span class="comment">/*条件变量说明*/</span></span><br><span class="line">    <span class="keyword">public</span>: <span class="comment">/*能被进程调用的过程*/</span></span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">P1</span><span class="params">(……)</span> {……} <span class="comment">/*对数据结构的操作过程*/</span></span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">P2</span><span class="params">(……)</span> {……}</span><br><span class="line">        ……</span><br><span class="line">        <span class="keyword">void</span> (……) {……}</span><br><span class="line">        ……</span><br><span class="line">    { <span class="comment">/*管程主体*/</span> </span><br><span class="line">    initialization code; <span class="comment">/*初始化代码*/</span> </span><br><span class="line">    ……</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<h3 id="管程功能"><a href="#管程功能" class="headerlink" title="管程功能"></a>管程功能</h3><p><strong>互斥</strong><br>➢管程中的变量只能被管程中的操作访问<br>➢任何时候只有一个进程在管程中操作<br>➢类似临界区<br>➢由编译器完成</p>
<p><strong>同步</strong><br>➢条件变量<br>➢唤醒和阻塞操作</p>
<h3 id="条件变量"><a href="#条件变量" class="headerlink" title="条件变量"></a>条件变量</h3><p><strong>condition x, y;</strong></p>
<p>条件变量的操作<br>➢ 阻塞操作：wait<br>➢ 唤醒操作：signal</p>
<p>x.wait(): 进程阻塞直到另外一个进程调用x.signal()</p>
<p>x.signal()：唤醒另外一个进程</p>
<h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><p><strong>管程内可能存在不止1个进程。</strong> ➢例如：进程P调用 signal操作唤醒进程 Q后。</p>
<p>存在的可能<strong>处理方式</strong>：<br>➢<strong>P等待</strong>，直到Q离开管程或等待另一条件（Hoare）。<br>➢<strong>Q等待</strong>，直到P离开管程或等待另一条件（Hansen）。</p>
<h2 id="经典进程同步问题"><a href="#经典进程同步问题" class="headerlink" title="经典进程同步问题"></a>经典进程同步问题</h2><h3 id="生产者-消费者问题"><a href="#生产者-消费者问题" class="headerlink" title="生产者-消费者问题"></a>生产者-消费者问题</h3><p>生产者-消费者问题是相互合作进程关系的一种抽象</p>
<p>利用记录型信号量实现：<br>    ➢ 假定，在生产者和消费者之间的公用缓冲池中，具有n个缓冲区，可利用互斥信号量mutex使诸进程实现对缓冲池的互斥使用；<br>    ➢ 利用资源信号量empty和full分别表示缓冲池中空缓冲区和满缓冲区的数量。<br>    ➢ 又假定这些生产者和消费者相互等效，只要缓冲池未满，生产者便可将消息送入缓冲池；只要缓冲池未空，消费者便可从缓冲池中取走一个消息</p>
<p>其它解决方案：AND信号集、管程</p>
<h4 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h4><p>➢ 生产者（M个）：生产产品，并放入缓冲区<br>➢ 消费者（N个）：从缓冲区取产品消费<br>➢ 问题：<strong>如何实现生产者和消费者之间的同步和互斥？</strong></p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502135830284.png" class title="image-20230502135830284">

<h4 id="生产者消费者流程"><a href="#生产者消费者流程" class="headerlink" title="生产者消费者流程"></a>生产者消费者流程</h4><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">生产者：</span><br><span class="line">{ </span><br><span class="line">    …</span><br><span class="line">    生产一个产品</span><br><span class="line">    …</span><br><span class="line">    …</span><br><span class="line">    把产品放入指定缓冲区</span><br><span class="line">    …</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">消费者：</span><br><span class="line">{ </span><br><span class="line">    …</span><br><span class="line">    …</span><br><span class="line">    从指定缓冲区取出产品</span><br><span class="line">    …</span><br><span class="line">    …</span><br><span class="line">    消费取出的产品</span><br><span class="line">    …</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h4 id="生产者消费者的互斥分析"><a href="#生产者消费者的互斥分析" class="headerlink" title="生产者消费者的互斥分析"></a>生产者消费者的互斥分析</h4><h5 id="生产者"><a href="#生产者" class="headerlink" title="生产者"></a>生产者</h5><p><strong>➢把产品放入指定缓冲区</strong><br>➢<strong>in</strong>:所有的生产者对in指针需要互斥<br>➢<strong>counter</strong>：所有生产者消费者进程对counter互斥</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">buffer[in] = nextp;</span><br><span class="line">in = (in + <span class="number">1</span>) % N;</span><br><span class="line">counter++;</span><br></pre></td></tr></table></figure></div>

<h5 id="消费者"><a href="#消费者" class="headerlink" title="消费者"></a>消费者</h5><p><strong>➢从指定缓冲区取出产品</strong><br>➢<strong>out</strong>:所有的消费者对out指针需要互斥<br>➢<strong>counter</strong>：所有生产者消费者进程对counter互斥</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nextc = buffer[out];</span><br><span class="line">out = (out + <span class="number">1</span>) % N;</span><br><span class="line">counter--;</span><br></pre></td></tr></table></figure></div>

<p>两者需要协同的部分<br>➢ 生产者：把产品放入指定缓冲区（关键代码C1）<br>➢ 消费者：从满缓冲区取出一个产品（关键代码C2）</p>
<p>三种运行次序（不同条件下不同运行次序）<br>➢ 所有缓冲区空时：<br>➢ 所有缓冲区满时：<br>➢ 缓冲区有空也有满时：</p>
<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502140103660.png" class title="image-20230502140103660">

<img lazyload src="/images/loading.svg" data-src="/2023/02/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230502140109258.png" class title="image-20230502140109258">

<h4 id="同步信号量定义"><a href="#同步信号量定义" class="headerlink" title="同步信号量定义"></a>同步信号量定义</h4><p>共享数据<br>semaphore **<em>full, <em>empty</em></em>, *mutex; //full:满缓冲区数量 empty：空缓冲区数量</p>
<p>初始化:<br><strong>full-&gt;value = 0; empty-&gt;vaule = N;</strong> mutex-&gt;vaule = 1；</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> {</span><br><span class="line">    <span class="comment">// produce an item in nextp</span></span><br><span class="line">    wait (empty);</span><br><span class="line">    wait (mutex);</span><br><span class="line">    <span class="comment">// add the item to the buffer</span></span><br><span class="line">    signal (mutex);</span><br><span class="line">    signal (full);</span><br><span class="line">} <span class="keyword">while</span> (TRUE)</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> {</span><br><span class="line">    <span class="comment">// produce an item in nextp</span></span><br><span class="line">    wait (empty);</span><br><span class="line">    wait (mutex);</span><br><span class="line">    <span class="comment">// add the item to the buffer</span></span><br><span class="line">    signal (mutex);</span><br><span class="line">    signal (full);</span><br><span class="line">} <span class="keyword">while</span> (TRUE)</span><br></pre></td></tr></table></figure></div>

<p>解读见PPT</p>
<h4 id="利用AND信号量解决生产者-消费者问题"><a href="#利用AND信号量解决生产者-消费者问题" class="headerlink" title="利用AND信号量解决生产者-消费者问题"></a>利用AND信号量解决生产者-消费者问题</h4><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> in=<span class="number">0</span>,out=<span class="number">0</span>;</span><br><span class="line">item buffer[n];</span><br><span class="line">semaphore mutex=<span class="number">1</span>,empty=n,full=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">producer</span><span class="params">()</span> {</span><br><span class="line">    <span class="keyword">do</span> {</span><br><span class="line">        produce an item nextp; </span><br><span class="line">        …</span><br><span class="line">        Swait(empty，mutex)；</span><br><span class="line">        buffer[in]= nextp;</span><br><span class="line">        in = (in+<span class="number">1</span>) % n;</span><br><span class="line">        Ssignal(mutex,full);</span><br><span class="line">    }<span class="keyword">while</span>(TRUE);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">consumer</span><span class="params">()</span> {</span><br><span class="line"><span class="keyword">do</span> {</span><br><span class="line">    Swait(full,mutex);</span><br><span class="line">    nextc=buffer[out];</span><br><span class="line">    out= (out+<span class="number">1</span>) % n;</span><br><span class="line">    Ssignal(mutex,empth);</span><br><span class="line">    consume the item in nextc; </span><br><span class="line">    …</span><br><span class="line">    }<span class="keyword">while</span>(TRUE);</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<h4 id="利用管程解决生产者-消费者问题"><a href="#利用管程解决生产者-消费者问题" class="headerlink" title="利用管程解决生产者-消费者问题"></a>利用管程解决生产者-消费者问题</h4><div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">Monitor producerconsumer { </span><br><span class="line">item buffer[N];</span><br><span class="line"><span class="type">int</span> in,out;</span><br><span class="line">condition notfull,notempty;</span><br><span class="line"><span class="type">int</span> count;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">public</span>: </span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(item x)</span> {</span><br><span class="line">        <span class="keyword">if</span> (count&gt;=N) cwait(notfull)；</span><br><span class="line">        buffer[in] = x；</span><br><span class="line">        in = (in+<span class="number">1</span>) % N；</span><br><span class="line">        count++；</span><br><span class="line">        csignal(notempty);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">get</span><span class="params">(item x)</span> {</span><br><span class="line">        <span class="keyword">if</span> (count&lt;=<span class="number">0</span>) cwait(notempty)；</span><br><span class="line">        x = buffer[out]；</span><br><span class="line">        out = (out+<span class="number">1</span>) % N；</span><br><span class="line">        count--；</span><br><span class="line">        csignal(notfull);</span><br><span class="line">        }</span><br><span class="line">        { </span><br><span class="line">        in=<span class="number">0</span>;out=<span class="number">0</span>;count=<span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">    }PC;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">producer</span><span class="params">()</span> {</span><br><span class="line">        item x;</span><br><span class="line">        <span class="keyword">while</span>(TRUE) {</span><br><span class="line">            ……</span><br><span class="line">            produce an item in nextp；</span><br><span class="line">            PC.put(x)；</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">consumer</span><span class="params">()</span> {</span><br><span class="line">    	item x;</span><br><span class="line">        <span class="keyword">while</span>(TRUE) {</span><br><span class="line">            PC.get(x)；</span><br><span class="line">            consume the item in nextc；</span><br><span class="line">            ……</span><br><span class="line">            }</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">main</span><span class="params">()</span> {</span><br><span class="line">        cobegin</span><br><span class="line">        <span class="title function_">producer</span><span class="params">()</span>; consumer();</span><br><span class="line">        coend</span><br><span class="line">    }</span><br></pre></td></tr></table></figure></div>

<h3 id="哲学家进餐问题"><a href="#哲学家进餐问题" class="headerlink" title="哲学家进餐问题"></a>哲学家进餐问题</h3><p>五个哲学家的生活方式：交替思考和进餐 共用一张圆桌，分别坐在五张椅子上 在圆桌上有五个碗和五支筷子 平时哲学家思考，饥饿时便试图取用其左、右 最靠近他的筷子，只有在拿到两支筷子时才能 进餐 进餐毕，放下筷子又继续思考<br><strong>➢ 解决方案：</strong>  记录型信号量；  AND信号量集、管程。</p>
<h4 id="利用记录型信号量"><a href="#利用记录型信号量" class="headerlink" title="利用记录型信号量"></a>利用记录型信号量</h4><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Semaphore chopstick[<span class="number">5</span>] = {<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>}; <span class="comment">// array [0..4] of semaphores;</span></span><br><span class="line">    Philosopher i:</span><br><span class="line">        <span class="keyword">do</span> {</span><br><span class="line">            wait(chopStick[i]); <span class="comment">// get left chopstick</span></span><br><span class="line">            wait(chopStick[(i + <span class="number">1</span>) % <span class="number">5</span>]); <span class="comment">// get right chopstick</span></span><br><span class="line">            …</span><br><span class="line">            <span class="comment">// eat</span></span><br><span class="line">            …</span><br><span class="line">            signal(chopStick[i]); <span class="comment">//return left chopstick</span></span><br><span class="line">            signal(chopStick[(i + <span class="number">1</span>) % <span class="number">5</span>]); <span class="comment">// return right chopstick</span></span><br><span class="line">            …</span><br><span class="line">            <span class="comment">// think</span></span><br><span class="line">            …</span><br><span class="line">		} <span class="keyword">while</span> (<span class="literal">true</span>) </span><br></pre></td></tr></table></figure></div>

<h5 id="存在问题及解决方案"><a href="#存在问题及解决方案" class="headerlink" title="存在问题及解决方案"></a>存在问题及解决方案</h5><p>可能引起死锁 ，如五个哲学家同时饥 饿而各自拿起左筷子时 ，会使信号量 chopstick均为 0 ；因此他们试图去拿 右筷子时 ，无法拿到而无限期等待 。</p>
<p><strong>解决方法：</strong><br>① 最多允许4个哲学家同时坐在桌子周围<br>② 仅当一个哲学家左右两边的筷子都可用时，才允许他拿筷子。<br>③ 给所有哲学家编号，奇数号的哲学家必须首先拿左边的筷子，偶数号的哲学家则反之</p>
<h4 id="利用AND信号量"><a href="#利用AND信号量" class="headerlink" title="利用AND信号量"></a>利用AND信号量</h4><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">semaphore chopstick chopstick[<span class="number">5</span>]={<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>}；</span><br><span class="line"><span class="keyword">do</span> {</span><br><span class="line">    …</span><br><span class="line">    <span class="comment">//think</span></span><br><span class="line">    …</span><br><span class="line">    Sswait(chopstick[(i+<span class="number">1</span>)%<span class="number">5</span>]，chopstick[i])；</span><br><span class="line">    …</span><br><span class="line">    <span class="comment">//eat</span></span><br><span class="line">    …</span><br><span class="line">    Ssignal(chopstick[(i+<span class="number">1</span>)%<span class="number">5</span>]，chopstick[i])；</span><br><span class="line">} <span class="keyword">while</span>[TRUE]；</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h4 id="利用管程"><a href="#利用管程" class="headerlink" title="利用管程"></a>利用管程</h4><div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">monitor dp</span><br><span class="line">{ </span><br><span class="line"><span class="keyword">enum</span> { THINKING; HUNGRY, EATING) state [<span class="number">5</span>] ;</span><br><span class="line">condition self [<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">pickup</span> <span class="params">(<span class="type">int</span> i)</span> { </span><br><span class="line">    state[i] = HUNGRY;</span><br><span class="line">    test(i);</span><br><span class="line">    <span class="keyword">if</span> (state[i] != EATING) self [i].wait;</span><br><span class="line">}</span><br><span class="line">      </span><br><span class="line"><span class="keyword">void</span> <span class="title function_">putdown</span> <span class="params">(<span class="type">int</span> i)</span> { </span><br><span class="line">    state[i] = THINKING;</span><br><span class="line">    	<span class="comment">// test left and right neighbors</span></span><br><span class="line">    test((i + <span class="number">4</span>) % <span class="number">5</span>);</span><br><span class="line">    test((i + <span class="number">1</span>) % <span class="number">5</span>);</span><br><span class="line">}</span><br><span class="line">      </span><br><span class="line"><span class="keyword">void</span> <span class="title function_">test</span> <span class="params">(<span class="type">int</span> i)</span> { </span><br><span class="line">    <span class="keyword">if</span> ( (state[(i + <span class="number">4</span>) % <span class="number">5</span>] != EATING) &amp;&amp;</span><br><span class="line">    (state[i] == HUNGRY) &amp;&amp;</span><br><span class="line">    (state[(i + <span class="number">1</span>) % <span class="number">5</span>] != EATING) ) { </span><br><span class="line">        state[i] = EATING ;</span><br><span class="line">        self[i].signal () ;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">initialization_code() { </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">    state[i] = THINKING;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">哲学家i的活动可描述为：</span><br><span class="line"><span class="keyword">do</span> {</span><br><span class="line">    dp.pickup (i);</span><br><span class="line">    …</span><br><span class="line">    eat</span><br><span class="line">    …</span><br><span class="line">    dp.putdown (i);</span><br><span class="line">} <span class="keyword">while</span>[TRUE];</span><br></pre></td></tr></table></figure></div>


        </div>

        
            <div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8">
                <div class="article-copyright-info-container">
    <ul>
        <li><strong>Title:</strong> 操作系统</li>
        <li><strong>Author:</strong> Serendy</li>
        <li><strong>Created at
                :</strong> 2023-02-27 19:03:29</li>
        
            <li>
                <strong>Updated at
                    :</strong> 2023-07-12 11:28:07
            </li>
        
        <li>
            <strong>Link:</strong> https://xmnsatay.github.io/2023/02/27/操作系统/
        </li>
        <li>
            <strong>
                License:
            </strong>
            

            
                This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a>.
            
        </li>
    </ul>
</div>

            </div>
        

        
            <ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden">
                
                    <li class="tag-item mx-0.5">
                        <a href="/tags/Note/">#Note</a>&nbsp;
                    </li>
                
            </ul>
        

        

        
            <div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8">
                
                    <div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="prev"
                        rel="prev"
                        href="/2023/02/28/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/"
                        >
                            <span class="left arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-left"></i>
                            </span>
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">数据库技术与应用</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="next"
                        rel="next"
                        href="/2023/02/26/%E8%AE%B0%E5%BD%95%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"
                        >
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">记录第一次搭建个人博客</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        


        
            <div class="comment-container px-2 sm:px-6 md:px-8 pb-8">
                <div class="comments-container mt-10 w-full ">
    <div id="comment-anchor" class="w-full h-2.5"></div>
    <div class="comment-area-title w-full my-1.5 md:my-2.5 text-xl md:text-3xl font-bold">
        Comments
    </div>
    

        
            
    <div id="gitalk-container"></div>
    <script data-swup-reload-script
            src="//cdn.staticfile.org/gitalk/1.8.0/gitalk.min.js"></script>
    <script data-swup-reload-script>

        function loadGitalk() {
            let __gitalk__pathname = decodeURI(location.pathname);
            const __gitalk__pathnameLength = __gitalk__pathname.length;
            const __gitalk__pathnameMaxLength = 50;
            if (__gitalk__pathnameLength > __gitalk__pathnameMaxLength) {
                __gitalk__pathname = __gitalk__pathname.substring(0, __gitalk__pathnameMaxLength - 3) + '...';
            }

            try {
                Gitalk && new Gitalk({
                    clientID: '0527f38811476150cb23',
                    clientSecret: 'afeab74234fca1c20001f0764e56bb739f1ca53e',
                    repo: 'SerendyGitTalk',
                    owner: 'XMNSatay',
                    admin: ['XMNSatay'],
                    id: __gitalk__pathname,
                    language: 'en',
                    proxy: 'https://github.com/login/oauth/access_token'
                }).render('gitalk-container');

            } catch (e) {
                window.Gitalk = null;
            }
        }

        if ('true') {
            const loadGitalkTimeout = setTimeout(() => {
                loadGitalk();
                clearTimeout(loadGitalkTimeout);
            }, 1000);
        } else {
            window.addEventListener('DOMContentLoaded', loadGitalk);
        }
    </script>



        
    
</div>

            </div>
        
    </div>

    
        <div class="toc-content-container">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">On this page</div>
        <div class="page-title">操作系统</div>
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%8F%8F%E8%BF%B0%E4%B8%8E%E6%8E%A7%E5%88%B6"><span class="nav-text">2 进程的描述与控制</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%B6%8B%E5%9B%BE"><span class="nav-text">前趋图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E5%B9%B6%E5%8F%91%E6%89%A7%E8%A1%8C"><span class="nav-text">程序并发执行</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E5%B9%B6%E5%8F%91%E6%89%A7%E8%A1%8C%E6%97%B6%E7%9A%84%E7%89%B9%E5%BE%81"><span class="nav-text">程序并发执行时的特征</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%8F%8F%E8%BF%B0"><span class="nav-text">进程的描述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="nav-text">进程的定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">进程和程序的区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%89%B9%E5%BE%81"><span class="nav-text">进程的特征</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%8A%B6%E6%80%81%E5%92%8C%E5%88%87%E6%8D%A2"><span class="nav-text">进程的基本状态和切换</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E7%8A%B6%E6%80%81"><span class="nav-text">基本状态</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%8A%B6%E6%80%81%EF%BC%88new%EF%BC%89"><span class="nav-text">创建状态（new）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%B1%E7%BB%AA%E7%8A%B6%E6%80%81%EF%BC%88ready%EF%BC%89%EF%BC%9A%E5%8F%AA%E9%9C%80%E8%A6%81%E5%86%8D%E8%8E%B7%E5%BE%97CPU"><span class="nav-text">就绪状态（ready）：只需要再获得CPU</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%A7%E8%A1%8C%E7%8A%B6%E6%80%81%EF%BC%88running%EF%BC%89%EF%BC%9A%E5%B7%B2%E8%8E%B7%E5%BE%97CPU%EF%BC%8C%E6%AD%A3%E5%9C%A8%E6%89%A7%E8%A1%8C%E7%9A%84%E7%8A%B6%E6%80%81"><span class="nav-text">执行状态（running）：已获得CPU，正在执行的状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%98%BB%E5%A1%9E%E7%8A%B6%E6%80%81%EF%BC%88block-waiting%EF%BC%89%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AD%89%E5%BE%85%E6%9F%90%E4%BA%9B%E4%BA%8B%E4%BB%B6%E5%8F%91%E7%94%9F%E7%9A%84%E7%8A%B6%E6%80%81"><span class="nav-text">阻塞状态（block &#x2F; waiting）：进程等待某些事件发生的状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%88%E6%AD%A2%E7%8A%B6%E6%80%81%EF%BC%88terminated%EF%BC%89"><span class="nav-text">终止状态（terminated）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="nav-text">进程状态的转换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%82%E8%B5%B7%E6%93%8D%E4%BD%9C%E5%8F%8A%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="nav-text">挂起操作及进程状态的转换</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%95%E5%85%A5%E6%8C%82%E8%B5%B7%E6%93%8D%E4%BD%9C%E5%90%8E%E4%B8%89%E4%B8%AA%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="nav-text">引入挂起操作后三个进程状态的转换</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E2%80%94%E2%80%94PCB"><span class="nav-text">进程管理中的数据结构——PCB</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PCB%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-text">PCB的作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PCB%E4%B8%AD%E7%9A%84%E4%BF%A1%E6%81%AF"><span class="nav-text">PCB中的信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%8A%B6%E6%80%81%E5%92%8C%E7%BB%88%E6%AD%A2%E7%8A%B6%E6%80%81%E2%80%94%E2%80%94%E7%94%B3%E8%AF%B7%E5%92%8C%E5%9B%9E%E6%94%B6PCB"><span class="nav-text">创建状态和终止状态——申请和回收PCB</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PCB%E7%9A%84%E7%BB%84%E7%BB%87%E6%96%B9%E5%BC%8F"><span class="nav-text">PCB的组织方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BA%BF%E6%80%A7%E6%96%B9%E5%BC%8F"><span class="nav-text">线性方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%93%BE%E6%8E%A5%E6%96%B9%E5%BC%8F"><span class="nav-text">链接方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E6%96%B9%E5%BC%8F"><span class="nav-text">索引方式</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="nav-text">进程控制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-text">进程的创建</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84"><span class="nav-text">进程的层次结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E5%9B%BE"><span class="nav-text">进程图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%95%E8%B5%B7%E8%BF%9B%E7%A8%8B%E5%88%9B%E5%BB%BA%E7%9A%84%E4%BA%8B%E4%BB%B6%EF%BC%88%E8%B4%9F%E8%B4%A3%E4%B8%8D%E5%90%8C%E7%9A%84%E4%BB%BB%E5%8A%A1%EF%BC%89"><span class="nav-text">引起进程创建的事件（负责不同的任务）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%BB%88%E6%AD%A2"><span class="nav-text">进程的终止</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%BB%88%E6%AD%A2%E8%BF%87%E7%A8%8B"><span class="nav-text">进程的终止过程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E9%98%BB%E5%A1%9E%E4%B8%8E%E5%94%A4%E9%86%92"><span class="nav-text">进程的阻塞与唤醒</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%95%E8%B5%B7%E8%BF%9B%E7%A8%8B%E9%98%BB%E5%A1%9E%E5%92%8C%E5%94%A4%E9%86%92%E7%9A%84%E4%BA%8B%E4%BB%B6"><span class="nav-text">引起进程阻塞和唤醒的事件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E9%98%BB%E5%A1%9E%E8%BF%87%E7%A8%8B"><span class="nav-text">进程阻塞过程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E5%94%A4%E9%86%92%E8%BF%87%E7%A8%8B"><span class="nav-text">进程唤醒过程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%8C%82%E8%B5%B7%E4%B8%8E%E6%BF%80%E6%B4%BB"><span class="nav-text">进程的挂起与激活</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1"><span class="nav-text">进程通信</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B1%E4%BA%AB%E5%AD%98%E5%82%A8%E5%99%A8%E7%B3%BB%E7%BB%9F%EF%BC%88shared-memory%EF%BC%89"><span class="nav-text">共享存储器系统（shared memory）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92%E7%B3%BB%E7%BB%9F%EF%BC%88message-passing%EF%BC%89"><span class="nav-text">消息传递系统（message passing）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%B4%E6%8E%A5%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F"><span class="nav-text">直接通信方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%B4%E6%8E%A5%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F%EF%BC%88%E9%80%9A%E8%BF%87%E9%82%AE%E7%AE%B1%EF%BC%89"><span class="nav-text">间接通信方式（通过邮箱）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93"><span class="nav-text">小结</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%A1%E9%81%93%E9%80%9A%E4%BF%A1%EF%BC%88pipe%EF%BC%89"><span class="nav-text">管道通信（pipe）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E6%9C%BA-%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%B3%BB%E7%BB%9F"><span class="nav-text">客户机-服务器系统</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-text">线程的基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8F%90%E5%87%BA%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%9B%AE%E7%9A%84"><span class="nav-text">提出线程的目的</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E5%92%8C%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%AF%94%E8%BE%83"><span class="nav-text">线程和进程的比较</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B0%83%E5%BA%A6%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8D%95%E4%BD%8D"><span class="nav-text">调度的基本单位</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B9%B6%E5%8F%91%E6%80%A7"><span class="nav-text">并发性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%A5%E6%9C%89%E8%B5%84%E6%BA%90"><span class="nav-text">拥有资源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%8B%AC%E7%AB%8B%E6%80%A7"><span class="nav-text">独立性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E5%BC%80%E9%94%80"><span class="nav-text">系统开销</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%94%AF%E6%8C%81%E5%A4%9A%E5%A4%84%E7%90%86%E6%9C%BA%E7%B3%BB%E7%BB%9F"><span class="nav-text">支持多处理机系统</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81"><span class="nav-text">线程状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%9D%97%EF%BC%88thread-control-block%EF%BC%8CTCB%EF%BC%89"><span class="nav-text">线程控制块（thread control block，TCB）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="nav-text">线程的实现</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E6%A0%B8%E6%94%AF%E6%8C%81%E7%BA%BF%E7%A8%8BKST"><span class="nav-text">内核支持线程KST</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E7%BA%A7%E7%BA%BF%E7%A8%8BULT"><span class="nav-text">用户级线程ULT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ULT%E4%B8%8EKST%E7%BB%84%E5%90%88%E6%96%B9%E5%BC%8F"><span class="nav-text">ULT与KST组合方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E5%AF%B9%E4%B8%80%E6%A8%A1%E5%9E%8B"><span class="nav-text">多对一模型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E5%AF%B9%E4%B8%80%E6%A8%A1%E5%9E%8B"><span class="nav-text">一对一模型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E5%AF%B9%E5%A4%9A%E6%A8%A1%E5%9E%8B"><span class="nav-text">多对多模型</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-%E5%A4%84%E7%90%86%E6%9C%BA%E8%B0%83%E5%BA%A6%E4%B8%8E%E6%AD%BB%E9%94%81"><span class="nav-text">3 处理机调度与死锁</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E6%9C%BA%E8%B0%83%E5%BA%A6%E6%A6%82%E8%BF%B0"><span class="nav-text">处理机调度概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E6%9C%BA%E8%B0%83%E5%BA%A6%E5%B1%82%E6%AC%A1"><span class="nav-text">处理机调度层次</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6"><span class="nav-text">高级调度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%AD%E7%BA%A7%E8%B0%83%E5%BA%A6"><span class="nav-text">中级调度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%8E%E7%BA%A7%E8%B0%83%E5%BA%A6"><span class="nav-text">低级调度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E6%9C%BA%E8%B0%83%E5%BA%A6%E4%B8%89%E7%BA%A7%E5%B1%82%E6%AC%A1"><span class="nav-text">处理机调度三级层次</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%E7%9A%84%E4%BB%BB%E5%8A%A1-1"><span class="nav-text">进程调度的任务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="nav-text">进程调度的方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B0%83%E5%BA%A6%E5%87%86%E5%88%99"><span class="nav-text">调度准则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87"><span class="nav-text">评价指标</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%91%A8%E8%BD%AC%E6%97%B6%E9%97%B4"><span class="nav-text">周转时间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%9E%E5%90%90%E9%87%8F"><span class="nav-text">吞吐量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AD%89%E5%BE%85%E6%97%B6%E9%97%B4%EF%BC%88%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%EF%BC%89"><span class="nav-text">等待时间（进程调度）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E6%97%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%9B%AE%E6%A0%87"><span class="nav-text">分时系统的目标</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E6%97%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%9B%AE%E6%A0%87"><span class="nav-text">实时系统的目标</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-text">调度算法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%88%E6%9D%A5%E5%85%88%E6%9C%8D%E5%8A%A1%EF%BC%88FCFS%EF%BC%89%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-text">先来先服务（FCFS）调度算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%AD%E4%BD%9C%E4%B8%9A%E4%BC%98%E5%85%88%EF%BC%88SJF%EF%BC%89%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-text">短作业优先（SJF）调度算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%98%E5%85%88%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95PR"><span class="nav-text">优先级调度算法PR</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%98%E5%85%88%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="nav-text">优先级调度算法的类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%98%E5%85%88%E7%BA%A7%E7%B1%BB%E5%9E%8B"><span class="nav-text">优先级类型</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%AB%98%E7%9B%B8%E5%BA%94%E6%AF%94%E4%BC%98%E5%85%88%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95%EF%BC%88PR%E7%9A%84%E7%89%B9%E4%BE%8B%EF%BC%89"><span class="nav-text">高相应比优先调度算法（PR的特例）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%B6%E9%97%B4%E7%89%87%E8%BD%AE%E8%BD%AC-Round-Robin%EF%BC%8CRR-%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-text">时间片轮转(Round-Robin，RR)调度算法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%97%B6%E9%97%B4%E7%89%87%E5%A4%A7%E5%B0%8F%E7%9A%84%E7%A1%AE%E5%AE%9A"><span class="nav-text">时间片大小的确定</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E7%BA%A7%E9%98%9F%E5%88%97%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-text">多级队列调度算法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E7%BA%A7%E5%8F%8D%E9%A6%88%E9%98%9F%E5%88%97%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95%E7%9A%84%E6%80%A7%E8%83%BD"><span class="nav-text">多级反馈队列调度算法的性能</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E5%85%AC%E5%B9%B3%E5%8E%9F%E5%88%99%E7%9A%84%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-text">基于公平原则的调度算法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E6%97%B6%E8%B0%83%E5%BA%A6"><span class="nav-text">实时调度</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E5%AE%9E%E6%97%B6%E8%B0%83%E5%BA%A6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%9D%A1%E4%BB%B6"><span class="nav-text">实现实时调度的基本条件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E6%97%B6%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-text">实时调度算法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9D%9E%E6%8A%A2%E5%8D%A0%E5%BC%8F%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-text">非抢占式调度算法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8A%A2%E5%8D%A0%E5%BC%8F%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-text">抢占式调度算法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%80%E6%97%A9%E6%88%AA%E6%AD%A2%E6%97%B6%E9%97%B4%E4%BC%98%E5%85%88-EDF-%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-text">最早截止时间优先(EDF)调度算法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%80%E4%BD%8E%E6%9D%BE%E5%BC%9B%E5%BA%A6%E4%BC%98%E5%85%88LLF%E7%AE%97%E6%B3%95"><span class="nav-text">最低松弛度优先LLF算法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%98%E5%85%88%E7%BA%A7%E5%80%92%E7%BD%AE%E7%8E%B0%E8%B1%A1"><span class="nav-text">优先级倒置现象</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AD%BB%E9%94%81"><span class="nav-text">死锁</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%AF%E9%87%8D%E7%94%A8%E6%80%A7%E8%B5%84%E6%BA%90%E5%92%8C%E5%8F%AF%E6%B6%88%E8%80%97%E6%80%A7%E8%B5%84%E6%BA%90"><span class="nav-text">可重用性资源和可消耗性资源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%AF%E6%8A%A2%E5%8D%A0%E6%80%A7%E5%92%8C%E4%B8%8D%E5%8F%AF%E6%8A%A2%E5%8D%A0%E6%80%A7%E8%B5%84%E6%BA%90"><span class="nav-text">可抢占性和不可抢占性资源</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%BB%E9%94%81%E5%8E%9F%E5%9B%A0"><span class="nav-text">死锁原因</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%BB%E9%94%81%E5%AE%9A%E4%B9%89"><span class="nav-text">死锁定义</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%A7%E7%94%9F%E6%AD%BB%E9%94%81%E7%9A%84%E5%BF%85%E8%A6%81%E6%9D%A1%E4%BB%B6"><span class="nav-text">产生死锁的必要条件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B5%84%E6%BA%90%E5%88%86%E9%85%8D%E5%9B%BE"><span class="nav-text">资源分配图</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E6%AD%BB%E9%94%81%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-text">处理死锁的方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%84%E9%98%B2%E6%AD%BB%E9%94%81-1"><span class="nav-text">预防死锁</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%81%BF%E5%85%8D%E6%AD%BB%E9%94%81-1"><span class="nav-text">避免死锁</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E7%8A%B6%E6%80%81"><span class="nav-text">安全状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%93%B6%E8%A1%8C%E5%AE%B6%E7%AE%97%E6%B3%95"><span class="nav-text">银行家算法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E6%A3%80%E6%B5%8B%E5%92%8C%E8%A7%A3%E9%99%A4"><span class="nav-text">死锁的检测和解除</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E8%A7%A3%E9%99%A4"><span class="nav-text">死锁的解除</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%BB%88%E6%AD%A2"><span class="nav-text">进程终止</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5"><span class="nav-text">4 进程同步</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BD%AF%E4%BB%B6%E5%90%8C%E6%AD%A5%E6%9C%BA%E5%88%B6%E2%80%94%E2%80%94Peterson%E7%AE%97%E6%B3%95"><span class="nav-text">软件同步机制——Peterson算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A1%AC%E4%BB%B6%E5%90%8C%E6%AD%A5%E6%9C%BA%E5%88%B6"><span class="nav-text">硬件同步机制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%81"><span class="nav-text">锁</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%A1%E5%8F%B7%E9%87%8F%E6%9C%BA%E5%88%B6"><span class="nav-text">信号量机制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B4%E5%BD%A2%E4%BF%A1%E5%8F%B7%E9%87%8F"><span class="nav-text">整形信号量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%B0%E5%BD%95%E5%9E%8B%E4%BF%A1%E5%8F%B7%E9%87%8F-%E5%8E%BB%E9%99%A4%E5%BF%99%E7%AD%89%E7%9A%84%E4%BF%A1%E5%8F%B7%E9%87%8F"><span class="nav-text">记录型信号量:去除忙等的信号量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#wait%E3%80%81signal%E6%93%8D%E4%BD%9C%E5%AE%9A%E4%B9%89"><span class="nav-text">wait、signal操作定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AND%E5%9E%8B%E4%BF%A1%E5%8F%B7%E9%87%8F"><span class="nav-text">AND型信号量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#AND%E5%9E%8B%E4%BF%A1%E5%8F%B7%E9%87%8F%E6%93%8D%E4%BD%9C%E5%AE%9A%E4%B9%89"><span class="nav-text">AND型信号量操作定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%A1%E5%8F%B7%E9%87%8F%E9%9B%86"><span class="nav-text">信号量集</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%A1%E5%8F%B7%E9%87%8F%E7%9A%84%E5%BA%94%E7%94%A8"><span class="nav-text">信号量的应用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A9%E7%94%A8%E4%BF%A1%E5%8F%B7%E9%87%8F%E5%AE%9E%E7%8E%B0%E8%BF%9B%E7%A8%8B%E4%BA%92%E6%96%A5-1"><span class="nav-text">利用信号量实现进程互斥</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A9%E7%94%A8%E4%BF%A1%E5%8F%B7%E9%87%8F%E5%AE%9E%E7%8E%B0%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5-1"><span class="nav-text">利用信号量实现进程同步</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A9%E7%94%A8%E4%BF%A1%E5%8F%B7%E9%87%8F%E5%AE%9E%E7%8E%B0%E5%89%8D%E8%B6%8B%E5%85%B3%E7%B3%BB"><span class="nav-text">利用信号量实现前趋关系</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AE%A1%E7%A8%8B%E6%9C%BA%E5%88%B6"><span class="nav-text">管程机制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%A1%E5%8F%B7%E9%87%8F%E6%9C%BA%E5%88%B6%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-text">信号量机制的问题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%A1%E7%A8%8B%E5%AE%9A%E4%B9%89"><span class="nav-text">管程定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%A1%E7%A8%8B%E5%8A%9F%E8%83%BD"><span class="nav-text">管程功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F"><span class="nav-text">条件变量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AE%E9%A2%98"><span class="nav-text">问题</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%8F%E5%85%B8%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5%E9%97%AE%E9%A2%98"><span class="nav-text">经典进程同步问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%9F%E4%BA%A7%E8%80%85-%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98"><span class="nav-text">生产者-消费者问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0"><span class="nav-text">问题描述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E6%B5%81%E7%A8%8B"><span class="nav-text">生产者消费者流程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E7%9A%84%E4%BA%92%E6%96%A5%E5%88%86%E6%9E%90"><span class="nav-text">生产者消费者的互斥分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%8C%E6%AD%A5%E4%BF%A1%E5%8F%B7%E9%87%8F%E5%AE%9A%E4%B9%89"><span class="nav-text">同步信号量定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A9%E7%94%A8AND%E4%BF%A1%E5%8F%B7%E9%87%8F%E8%A7%A3%E5%86%B3%E7%94%9F%E4%BA%A7%E8%80%85-%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98"><span class="nav-text">利用AND信号量解决生产者-消费者问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A9%E7%94%A8%E7%AE%A1%E7%A8%8B%E8%A7%A3%E5%86%B3%E7%94%9F%E4%BA%A7%E8%80%85-%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98"><span class="nav-text">利用管程解决生产者-消费者问题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%93%B2%E5%AD%A6%E5%AE%B6%E8%BF%9B%E9%A4%90%E9%97%AE%E9%A2%98"><span class="nav-text">哲学家进餐问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A9%E7%94%A8%E8%AE%B0%E5%BD%95%E5%9E%8B%E4%BF%A1%E5%8F%B7%E9%87%8F"><span class="nav-text">利用记录型信号量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A9%E7%94%A8AND%E4%BF%A1%E5%8F%B7%E9%87%8F"><span class="nav-text">利用AND信号量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A9%E7%94%A8%E7%AE%A1%E7%A8%8B"><span class="nav-text">利用管程</span></a></li></ol></li></ol></li></ol></li></ol>

    </div>
</div>
        </div>
    
</div>



                

            </div>

            

        </div>

        <div class="main-content-footer">
            <footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
            <div class="customize-info my-1">江流宛转绕芳甸 月照花林皆似霰</div>
        
        <div class="text-center">
            &copy;
            
              <span>2023</span>
              -
            
            2024&nbsp;&nbsp;<i class="fa-solid fa-circle-notch fa-spin"></i>&nbsp;&nbsp;<a href="/">Serendy</a>
            
                
                <p class="post-count space-x-0.5">
                    <span>
                        20 posts in total
                    </span>
                    
                        <span>
                            82k words in total
                        </span>
                    
                </p>
            
        </div>
        
            <script data-swup-reload-script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right">
                
                    <span id="busuanzi_container_site_uv" class="lg:!block">
                        <span class="text-sm">VISITOR COUNT</span>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="lg:!block">
                        <span class="text-sm">TOTAL PAGE VIEWS</span>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a></span>
            <span class="text-sm lg:block">THEME&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.6.2</a></span>
        </div>
        
        
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
            <script data-swup-reload-script>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fa-regular fa-comments"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fa-solid fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fa-solid fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>


    
<script src="/js/libs/Swup.min.js"></script>

<script src="/js/libs/SwupSlideTheme.min.js"></script>

<script src="/js/libs/SwupScriptsPlugin.min.js"></script>

<script src="/js/libs/SwupProgressPlugin.min.js"></script>

<script src="/js/libs/SwupScrollPlugin.min.js"></script>

<script src="/js/libs/SwupPreloadPlugin.min.js"></script>

<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
            new SwupPreloadPlugin(),
        ],
        containers: ["#swup"],
    });
</script>







<script src="/js/tools/imageViewer.js" type="module"></script>

<script src="/js/utils.js" type="module"></script>

<script src="/js/main.js" type="module"></script>

<script src="/js/layouts/navbarShrink.js" type="module"></script>

<script src="/js/tools/scrollTopBottom.js" type="module"></script>

<script src="/js/tools/lightDarkSwitch.js" type="module"></script>

<script src="/js/layouts/categoryList.js" type="module"></script>



    
<script src="/js/tools/localSearch.js" type="module"></script>




    
<script src="/js/tools/codeBlock.js" type="module"></script>




    
<script src="/js/layouts/lazyload.js" type="module"></script>




    
<script src="/js/tools/runtime.js"></script>

    
<script src="/js/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">




  
<script src="/js/libs/Typed.min.js"></script>

  
<script src="/js/plugins/typed.js" type="module"></script>









<div class="post-scripts" data-swup-reload-script>
    
        
<script src="/js/tools/tocToggle.js" type="module"></script>

<script src="/js/layouts/toc.js" type="module"></script>

<script src="/js/plugins/tabs.js" type="module"></script>

    
</div>


    <div id="aplayer"></div>

<script src="/js/libs/APlayer.min.js"></script>


<script src="/js/plugins/aplayer.js"></script>


</body>
</html>
